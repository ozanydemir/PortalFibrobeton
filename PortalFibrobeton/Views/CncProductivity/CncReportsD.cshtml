@model PortalFibrobeton.Models.Entity.MultipleModelCnc
@using PortalFibrobeton.Models.Entity


@{
    ViewBag.Title = "CncReportsD";
    Layout = "~/Views/Shared/CncLayout.cshtml";
}

<head>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/css/datepicker3.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/js/bootstrap-datepicker.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.4/moment.min.js"></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/chartist.js/latest/chartist.min.css">
    <script src="https://cdn.jsdelivr.net/chartist.js/latest/chartist.min.js"></script>


    <script src="~/Scripts/chartist-plugin-pointlabels.js"></script>
    <link href="~/chartist-plugin-tooltip-master/dist/chartist-plugin-tooltip.css" rel="stylesheet" />
    <script src="~/chartist-plugin-tooltip-master/dist/chartist-plugin-tooltip.js"></script>
    <script src="~/chartist-plugin-tooltip-master/src/scripts/chartist-plugin-tooltip.js"></script>
    <link href="~/chartist-plugin-tooltip-master/src/css/chartist-plugin-tooltip.css" rel="stylesheet" />
</head>


<div class="pagetitle">
    <h1>CNC Takip</h1>
    <nav>
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="/CncProductivity/CncReports">Raporlar</a></li>
            <li class="breadcrumb-item active">Seçilen Tarihler</li>
        </ol>
    </nav>
</div>


<div class="col-12">
    @using (Html.BeginForm("CncReportsD", "CncProductivity", FormMethod.Post, new { onsubmit = "return validateForm();" }))
    {

        <div class="col-4">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">Tarih Filtrele</h5>
                    <div class="row align-items-center">
                        <div class="col-md-10">
                            <label class="m-t-20">Başlangıç Tarihi:</label>
                            <div class="input-group">
                                <input type="text" style="cursor:pointer" autocomplete="off" class="form-control datepicker" name="bas" id="dp1" /><button class="btn disabled" style="background-color: #0094ff;border:none;color:white;cursor:default"><i class="ri-calendar-line"></i></button>
                            </div>
                        </div>
                    </div>
                    <div class="row align-items-center">
                        <div class="col-md-10 mt-3">
                            <label class="m-t-20">Bitiş Tarihi:</label>
                            <div class="input-group">
                                <input type="text" style="cursor:pointer" autocomplete="off" class="form-control datepicker" name="bit" id="dp2" /><button class="btn disabled" style="background-color: #0094ff;border:none;color:white;cursor:default"><i class="ri-calendar-line"></i></button>
                            </div>
                        </div>
                    </div>
                    <br />
                    <button type="submit" id="calculate" style="margin-left:170px;" class="btn btn-primary">Ara</button>

                </div>
            </div>
        </div>

        <div class="row">
            @*Makinelerin Çalışma Süreleri*@
            <div class="col-lg-7">
                <div class="card">
                    <div class="card-body">
                        <h6 class="card-title">Makinelerin Çalışma Süreleri</h6>
                        <div id="makinesureleri"></div>
                    </div>
                </div>
            </div>

            @*CNC Genel Verimlilik*@
            <div class="col-lg-4">
                <div class="card">
                    <div class="card-body">
                        <h6 class="card-title">Genel Verimlilik Oranı</h6>
                        <div id="cnctotalVer"></div>
                    </div>
                </div>
            </div>
        </div>


        <div>
            @{



                //Verimlilik Artış Fonksiyonu
                double? VerimlilikFark(double? x1, double? x2)
                {
                    if (x1 != 0)
                    {
                        double? diff = x2 - x1;
                        double? result = (diff / x1) * 100;
                        if (result.HasValue)
                        {
                            var r1 = Convert.ToDouble(result);
                            r1 = Math.Round(r1, 0);
                            return r1;
                        }
                        else
                        {
                            return 0;
                        }
                    }
                    else
                    {
                        return 0;
                    }

                }

                //Verimlilik Fonskiyonu
                double? Verimlilik(double? y1, double? y2)
                {
                    if (y1 != 0)
                    {
                        var result = (y1 / y2) * 100;
                        var r1 = Convert.ToDouble(result);
                        r1 = Math.Round(r1, 0);
                        return r1;
                    }

                    else
                    {
                        return 0;
                    }
                }

                //CNC Genel Verimlilik

                var cnctotalS = Model.SecilenSaatler.Select(a => a.calisma_saati).Sum();
                var cnctotalVer = Verimlilik(cnctotalS, ViewBag.diff * 7);


                //Seçilen Tarihler Arası Veriler


                //MN01

                //Çalışma Süresi Toplam

                double MN01SecilenTotalS = 0;
                MN01SecilenTotalS = Model.SecilenSaatler.Where(a => a.makine_adi == "MN01").Select(a => a.calisma_saati).Sum();
                TimeSpan MN01SecilenT = TimeSpan.FromMilliseconds(MN01SecilenTotalS);
                string MN01SecilenTotalA = MN01SecilenT.ToString(@"dd\:hh\:mm\:ss");

                //Çalışma Süre-Tarih List

                var MN01SecilenSureList = Model.SecilenSaatler.OrderBy(a => a.ID).Where(a => a.makine_adi == "MN01").Select(a => a.calisma_saati).ToList();
                var MN01SecilenTarihList = Model.SecilenSaatler.OrderBy(a => a.ID).Where(a => a.makine_adi == "MN01").Select(a => a.tarih).ToList();
                var MN01SecilenWattList = Model.SecilenTuketim.Where(a => a.makine_adi == "MN01").Select(a => a.tuketim).ToList();
                var MN01SecilenWattTarihList = Model.SecilenTuketim.Where(a => a.makine_adi == "MN01").Select(a => a.tarih).ToList();


                //Geçen x Güne Göre Saat Toplamı ve Fark
                double mn01gecenXsaatSum = 0;
                mn01gecenXsaatSum = Model.CncSecilenXSaat.Where(a => a.makine_adi == "MN01").Select(a => a.calisma_saati).Sum();
                double? mn01gecenXsaatVerimPer = VerimlilikFark(mn01gecenXsaatSum, MN01SecilenTotalS);
                if (double.IsNaN(Convert.ToDouble(mn01gecenXsaatVerimPer)))
                {
                    mn01gecenXsaatVerimPer = 0;
                }


                //KW - W
                double? MN01SecilenKW;
                double MN01SecilenW = 0;
                MN01SecilenW = Model.SecilenTuketim.Where(a => a.makine_adi == "MN01").Select(a => a.tuketim).Sum();
                MN01SecilenKW = MN01SecilenW / 1000;


                //Geçen x Güne Göre Göre Watt Farkı
                double? MN01SecilenKWPer = VerimlilikFark(ViewBag.MN01LastMkW, MN01SecilenKW);
                if (double.IsNaN(Convert.ToDouble(MN01SecilenKWPer)))
                {
                    MN01SecilenKWPer = 0;
                }

                //Geçen x Güne Göre Tüketim Toplamı ve Fark

                double? mn01gecenXtuketimSum = 0;
                mn01gecenXtuketimSum = Model.CNCSecilenXTuketim.Where(a => a.makine_adi == "MN01").Select(a => a.tuketim).Sum();
                double? mn01gecenXtuketimVerimPer = VerimlilikFark(mn01gecenXtuketimSum, MN01SecilenW);
                if (double.IsNaN(Convert.ToDouble(mn01gecenXtuketimVerimPer)) || double.IsInfinity(Convert.ToDouble(mn01gecenXtuketimVerimPer)))
                {
                    mn01gecenXtuketimVerimPer = 0;
                }

                //Verimlilik
                var MN01SecilenVerimlilik = Verimlilik(MN01SecilenTotalS, ViewBag.diff);

                //Watt Seçilen Tarihler Toplamı
                var MN01SecilenWattToplamList = Model.CNCSecilenWattMN01.Select(a => a.tuketim).ToList();



                //MN02

                //Çalışma Süresi Toplam

                double MN02SecilenTotalS = 0;
                MN02SecilenTotalS = Model.SecilenSaatler.Where(a => a.makine_adi == "MN02").Select(a => a.calisma_saati).Sum();
                TimeSpan MN02SecilenT = TimeSpan.FromMilliseconds(MN02SecilenTotalS);
                string MN02SecilenTotalA = MN02SecilenT.ToString(@"dd\:hh\:mm\:ss");

                //Çalışma Süre-Tarih List

                var MN02SecilenSureList = Model.SecilenSaatler.OrderBy(a => a.ID).Where(a => a.makine_adi == "MN02").Select(a => a.calisma_saati).ToList();
                var MN02SecilenTarihList = Model.SecilenSaatler.OrderBy(a => a.ID).Where(a => a.makine_adi == "MN02").Select(a => a.tarih).ToList();
                var MN02SecilenWattList = Model.SecilenTuketim.Where(a => a.makine_adi == "MN02").Select(a => a.tuketim).ToList();


                //Geçen x Güne Göre Saat Toplamı ve Fark
                double MN02gecenXsaatSum = 0;
                MN02gecenXsaatSum = Model.CncSecilenXSaat.Where(a => a.makine_adi == "MN02").Select(a => a.calisma_saati).Sum();
                double? MN02gecenXsaatVerimPer = VerimlilikFark(MN02gecenXsaatSum, MN02SecilenTotalS);
                if (double.IsNaN(Convert.ToDouble(MN02gecenXsaatVerimPer)))
                {
                    MN02gecenXsaatVerimPer = 0;
                }



                //KW - W
                double? MN02SecilenKW;
                double MN02SecilenW = 0;
                MN02SecilenW = Model.SecilenTuketim.Where(a => a.makine_adi == "MN02").Select(a => a.tuketim).Sum();
                MN02SecilenKW = MN02SecilenW / 1000;
                MN02SecilenKW = Math.Round(Convert.ToDouble(MN02SecilenKW), 2);

                //Geçen x Güne Göre Göre Watt Farkı
                double? MN02SecilenKWPer = VerimlilikFark(ViewBag.MN02LastMkW, MN02SecilenKW);
                if (double.IsNaN(Convert.ToDouble(MN02SecilenKWPer)))
                {
                    MN02SecilenKWPer = 0;
                }

                //Geçen x Güne Göre Tüketim Toplamı ve Fark

                double? MN02gecenXtuketimSum = 0;
                MN02gecenXtuketimSum = Model.CNCSecilenXTuketim.Where(a => a.makine_adi == "MN02").Select(a => a.tuketim).Sum();
                double? MN02gecenXtuketimVerimPer = VerimlilikFark(MN02gecenXtuketimSum, MN02SecilenW);
                if (double.IsNaN(Convert.ToDouble(MN02gecenXtuketimVerimPer)) || double.IsInfinity(Convert.ToDouble(MN02gecenXtuketimVerimPer)))
                {
                    MN02gecenXtuketimVerimPer = 0;
                }

                //Verimlilik
                var MN02SecilenVerimlilik = Verimlilik(MN02SecilenTotalS, ViewBag.diff);

                //Watt Seçilen Tarihler Toplamı
                var MN02SecilenWattToplamList = Model.CNCSecilenWattMN02.Select(a => a.tuketim).ToList();



                //CMA03

                //Çalışma Süresi Toplam

                double CMA03SecilenTotalS = 0;
                CMA03SecilenTotalS = Model.SecilenSaatler.Where(a => a.makine_adi == "CMA03").Select(a => a.calisma_saati).Sum();
                TimeSpan CMA03SecilenT = TimeSpan.FromMilliseconds(CMA03SecilenTotalS);
                string CMA03SecilenTotalA = CMA03SecilenT.ToString(@"dd\:hh\:mm\:ss");

                //Çalışma Süre-Tarih List

                var CMA03SecilenSureList = Model.SecilenSaatler.OrderBy(a => a.ID).Where(a => a.makine_adi == "CMA03").Select(a => a.calisma_saati).ToList();
                var CMA03SecilenTarihList = Model.SecilenSaatler.OrderBy(a => a.ID).Where(a => a.makine_adi == "CMA03").Select(a => a.tarih).ToList();
                var CMA03SecilenWattList = Model.SecilenTuketim.Where(a => a.makine_adi == "CMA03").Select(a => a.tuketim).ToList();


                //Geçen x Güne Göre Saat Toplamı ve Fark
                double CMA03gecenXsaatSum = 0;
                CMA03gecenXsaatSum = Model.CncSecilenXSaat.Where(a => a.makine_adi == "CMA03").Select(a => a.calisma_saati).Sum();
                double? CMA03gecenXsaatVerimPer = VerimlilikFark(CMA03gecenXsaatSum, CMA03SecilenTotalS);
                if (double.IsNaN(Convert.ToDouble(CMA03gecenXsaatVerimPer)))
                {
                    CMA03gecenXsaatVerimPer = 0;
                }

                //KW - W
                double? CMA03SecilenKW;
                double CMA03SecilenW = 0;
                CMA03SecilenW = Model.SecilenTuketim.Where(a => a.makine_adi == "CMA03").Select(a => a.tuketim).Sum();
                CMA03SecilenKW = CMA03SecilenW / 1000;
                CMA03SecilenKW = Math.Round(Convert.ToDouble(CMA03SecilenKW), 2);


                //Geçen x Güne Göre Göre Watt Farkı
                double? CMA03SecilenKWPer = VerimlilikFark(ViewBag.CMA03LastMkW, CMA03SecilenKW);
                if (double.IsNaN(Convert.ToDouble(CMA03SecilenKWPer)))
                {
                    CMA03SecilenKWPer = 0;
                }

                //Geçen x Güne Göre Tüketim Toplamı ve Fark

                double? CMA03gecenXtuketimSum = 0;
                CMA03gecenXtuketimSum = Model.CNCSecilenXTuketim.Where(a => a.makine_adi == "CMA03").Select(a => a.tuketim).Sum();
                double? CMA03gecenXtuketimVerimPer = VerimlilikFark(CMA03gecenXtuketimSum, CMA03SecilenW);
                if (double.IsNaN(Convert.ToDouble(CMA03gecenXtuketimVerimPer)) || double.IsInfinity(Convert.ToDouble(CMA03gecenXtuketimVerimPer)))
                {
                    CMA03gecenXtuketimVerimPer = 0;
                }

                //Verimlilik
                var CMA03SecilenVerimlilik = Verimlilik(CMA03SecilenTotalS, ViewBag.diff);

                //Watt Seçilen Tarihler Toplamı
                var CMA03SecilenWattToplamList = Model.CNCSecilenWattCMA03.Select(a => a.tuketim).ToList();


                //CMA04

                //Çalışma Süresi Toplam

                double CMA04SecilenTotalS = 0;
                CMA04SecilenTotalS = Model.SecilenSaatler.Where(a => a.makine_adi == "CMA04" || a.makine_adi == "CMA04 ").Select(a => a.calisma_saati).Sum();
                TimeSpan CMA04SecilenT = TimeSpan.FromMilliseconds(CMA04SecilenTotalS);
                string CMA04SecilenTotalA = CMA04SecilenT.ToString(@"dd\:hh\:mm\:ss");

                //Çalışma Süre-Tarih List

                var CMA04SecilenSureList = Model.SecilenSaatler.OrderBy(a => a.ID).Where(a => a.makine_adi == "CMA04" || a.makine_adi == "CMA04 ").Select(a => a.calisma_saati).ToList();
                var CMA04SecilenTarihList = Model.SecilenSaatler.OrderBy(a => a.ID).Where(a => a.makine_adi == "CMA04" || a.makine_adi == "CMA04 ").Select(a => a.tarih).ToList();
                var CMA04SecilenWattList = Model.SecilenTuketim.Where(a => a.makine_adi == "CMA04" || a.makine_adi == "CMA04 ").Select(a => a.tuketim).ToList();


                //Geçen x Güne Göre Saat Toplamı ve Fark
                double CMA04gecenXsaatSum = 0;
                CMA04gecenXsaatSum = Model.CncSecilenXSaat.Where(a => a.makine_adi == "CMA04" || a.makine_adi == "CMA04 ").Select(a => a.calisma_saati).Sum();
                double? CMA04gecenXsaatVerimPer = VerimlilikFark(CMA04gecenXsaatSum, CMA04SecilenTotalS);
                if (double.IsNaN(Convert.ToDouble(CMA04gecenXsaatVerimPer)))
                {
                    CMA04gecenXsaatVerimPer = 0;
                }

                //KW - W
                double? CMA04SecilenKW;
                double CMA04SecilenW = 0;
                CMA04SecilenW = Model.SecilenTuketim.Where(a => a.makine_adi == "CMA04" || a.makine_adi == "CMA04 ").Select(a => a.tuketim).Sum();
                CMA04SecilenKW = CMA04SecilenW / 1000;
                CMA04SecilenKW = Math.Round(Convert.ToDouble(CMA04SecilenKW), 2);


                //Geçen x Güne Göre Göre Watt Farkı
                double? CMA04SecilenKWPer = VerimlilikFark(ViewBag.CMA04LastMkW, CMA04SecilenKW);
                if (double.IsNaN(Convert.ToDouble(CMA04SecilenKWPer)))
                {
                    CMA04SecilenKWPer = 0;
                }

                //Geçen x Güne Göre Tüketim Toplamı ve Fark

                double? CMA04gecenXtuketimSum = 0;
                CMA04gecenXtuketimSum = Model.CNCSecilenXTuketim.Where(a => a.makine_adi == "CMA04" || a.makine_adi == "CMA04 ").Select(a => a.tuketim).Sum();
                double? CMA04gecenXtuketimVerimPer = VerimlilikFark(CMA04gecenXtuketimSum, CMA04SecilenW);
                if (double.IsNaN(Convert.ToDouble(CMA04gecenXtuketimVerimPer)) || double.IsInfinity(Convert.ToDouble(CMA04gecenXtuketimVerimPer)))
                {
                    CMA04gecenXtuketimVerimPer = 0;
                }

                //Verimlilik
                var CMA04SecilenVerimlilik = Verimlilik(CMA04SecilenTotalS, ViewBag.diff);

                //Watt Seçilen Tarihler Toplamı
                var CMA04SecilenWattToplamList = Model.CNCSecilenWattCMA04.Select(a => a.tuketim).ToList();



                //CMA05

                //Çalışma Süresi Toplam

                double CMA05SecilenTotalS = 0;
                CMA05SecilenTotalS = Model.SecilenSaatler.Where(a => a.makine_adi == "CMA05" || a.makine_adi == "CMA05 ").Select(a => a.calisma_saati).Sum();
                TimeSpan CMA05SecilenT = TimeSpan.FromMilliseconds(CMA05SecilenTotalS);
                string CMA05SecilenTotalA = CMA05SecilenT.ToString(@"dd\:hh\:mm\:ss");

                //Çalışma Süre-Tarih List

                var CMA05SecilenSureList = Model.SecilenSaatler.OrderBy(a => a.ID).Where(a => a.makine_adi == "CMA05" || a.makine_adi == "CMA05 ").Select(a => a.calisma_saati).ToList();
                var CMA05SecilenTarihList = Model.SecilenSaatler.OrderBy(a => a.ID).Where(a => a.makine_adi == "CMA05" || a.makine_adi == "CMA05 ").Select(a => a.tarih).ToList();
                var CMA05SecilenWattList = Model.SecilenTuketim.Where(a => a.makine_adi == "CMA05" || a.makine_adi == "CMA05 ").Select(a => a.tuketim).ToList();


                //Geçen x Güne Göre Saat Toplamı ve Fark
                double CMA05gecenXsaatSum = 0;
                CMA05gecenXsaatSum = Model.CncSecilenXSaat.Where(a => a.makine_adi == "CMA05" || a.makine_adi == "CMA05 ").Select(a => a.calisma_saati).Sum();
                double? CMA05gecenXsaatVerimPer = VerimlilikFark(CMA05gecenXsaatSum, CMA05SecilenTotalS);
                if (double.IsNaN(Convert.ToDouble(CMA05gecenXsaatVerimPer)))
                {
                    CMA05gecenXsaatVerimPer = 0;
                }

                //KW - W
                double? CMA05SecilenKW;
                double CMA05SecilenW = 0;
                CMA05SecilenW = Model.SecilenTuketim.Where(a => a.makine_adi == "CMA05" || a.makine_adi == "CMA05 ").Select(a => a.tuketim).Sum();
                CMA05SecilenKW = CMA05SecilenW / 1000;
                CMA05SecilenKW = Math.Round(Convert.ToDouble(CMA05SecilenKW), 2);

                //Geçen x Güne Göre Göre Watt Farkı
                double? CMA05SecilenKWPer = VerimlilikFark(ViewBag.CMA05LastMkW, CMA05SecilenKW);
                if (double.IsNaN(Convert.ToDouble(CMA05SecilenKWPer)))
                {
                    CMA05SecilenKWPer = 0;
                }

                //Geçen x Güne Göre Tüketim Toplamı ve Fark

                double? CMA05gecenXtuketimSum = 0;
                CMA05gecenXtuketimSum = Model.CNCSecilenXTuketim.Where(a => a.makine_adi == "CMA05" || a.makine_adi == "CMA05 ").Select(a => a.tuketim).Sum();
                double? CMA05gecenXtuketimVerimPer = VerimlilikFark(CMA05gecenXtuketimSum, CMA05SecilenW);
                if (double.IsNaN(Convert.ToDouble(CMA05gecenXtuketimVerimPer)) || double.IsInfinity(Convert.ToDouble(CMA05gecenXtuketimVerimPer)))
                {
                    CMA05gecenXtuketimVerimPer = 0;
                }

                //Verimlilik
                var CMA05SecilenVerimlilik = Verimlilik(CMA05SecilenTotalS, ViewBag.diff);

                //Watt Seçilen Tarihler Toplamı
                var CMA05SecilenWattToplamList = Model.CNCSecilenWattCMA05.Select(a => a.tuketim).ToList();



                //CMA06

                //Çalışma Süresi Toplam

                double CMA06SecilenTotalS = 0;
                CMA06SecilenTotalS = Model.SecilenSaatler.Where(a => a.makine_adi == "CMA06" || a.makine_adi == "CMA06 ").Select(a => a.calisma_saati).Sum();
                TimeSpan CMA06SecilenT = TimeSpan.FromMilliseconds(CMA06SecilenTotalS);
                string CMA06SecilenTotalA = CMA06SecilenT.ToString(@"dd\:hh\:mm\:ss");

                //Çalışma Süre-Tarih List

                var CMA06SecilenSureList = Model.SecilenSaatler.OrderBy(a => a.ID).Where(a => a.makine_adi == "CMA06" || a.makine_adi == "CMA06 ").Select(a => a.calisma_saati).ToList();
                var CMA06SecilenTarihList = Model.SecilenSaatler.OrderBy(a => a.ID).Where(a => a.makine_adi == "CMA06" || a.makine_adi == "CMA06 ").Select(a => a.tarih).ToList();
                var CMA06SecilenWattList = Model.SecilenTuketim.Where(a => a.makine_adi == "CMA06" || a.makine_adi == "CMA06 ").Select(a => a.tuketim).ToList();


                //Geçen x Güne Göre Saat Toplamı ve Fark
                double CMA06gecenXsaatSum = 0;
                CMA06gecenXsaatSum = Model.CncSecilenXSaat.Where(a => a.makine_adi == "CMA06" || a.makine_adi == "CMA06 ").Select(a => a.calisma_saati).Sum();
                double? CMA06gecenXsaatVerimPer = VerimlilikFark(CMA06gecenXsaatSum, CMA06SecilenTotalS);
                if (double.IsNaN(Convert.ToDouble(CMA06gecenXsaatVerimPer)))
                {
                    CMA06gecenXsaatVerimPer = 0;
                }

                //KW - W
                double? CMA06SecilenKW;
                double CMA06SecilenW = 0;
                CMA06SecilenW = Model.SecilenTuketim.Where(a => a.makine_adi == "CMA06" || a.makine_adi == "CMA06 ").Select(a => a.tuketim).Sum();
                CMA06SecilenKW = CMA06SecilenW / 1000;
                CMA06SecilenKW = Math.Round(Convert.ToDouble(CMA06SecilenKW), 2);


                //Geçen x Güne Göre Göre Watt Farkı
                double? CMA06SecilenKWPer = VerimlilikFark(ViewBag.CMA06LastMkW, CMA06SecilenKW);
                if (double.IsNaN(Convert.ToDouble(CMA06SecilenKWPer)))
                {
                    CMA06SecilenKWPer = 0;
                }

                //Geçen x Güne Göre Tüketim Toplamı ve Fark

                double? CMA06gecenXtuketimSum = 0;
                CMA06gecenXtuketimSum = Model.CNCSecilenXTuketim.Where(a => a.makine_adi == "CMA06" || a.makine_adi == "CMA06 ").Select(a => a.tuketim).Sum();
                double? CMA06gecenXtuketimVerimPer = VerimlilikFark(CMA06gecenXtuketimSum, CMA06SecilenW);
                if (double.IsNaN(Convert.ToDouble(CMA06gecenXtuketimVerimPer)) || double.IsInfinity(Convert.ToDouble(CMA06gecenXtuketimVerimPer)))
                {
                    CMA06gecenXtuketimVerimPer = 0;
                }

                //Verimlilik
                var CMA06SecilenVerimlilik = Verimlilik(CMA06SecilenTotalS, ViewBag.diff);

                //Watt Seçilen Tarihler Toplamı
                var CMA06SecilenWattToplamList = Model.CNCSecilenWattCMA06.Select(a => a.tuketim).ToList();



                //CMA07

                //Çalışma Süresi Toplam

                double CMA07SecilenTotalS = 0;
                CMA07SecilenTotalS = Model.SecilenSaatler.Where(a => a.makine_adi == "CMA07").Select(a => a.calisma_saati).Sum();
                TimeSpan CMA07SecilenT = TimeSpan.FromMilliseconds(CMA07SecilenTotalS);
                string CMA07SecilenTotalA = CMA07SecilenT.ToString(@"dd\:hh\:mm\:ss");

                //Çalışma Süre-Tarih List

                var CMA07SecilenSureList = Model.SecilenSaatler.OrderBy(a => a.ID).Where(a => a.makine_adi == "CMA07").Select(a => a.calisma_saati).ToList();
                var CMA07SecilenTarihList = Model.SecilenSaatler.OrderBy(a => a.ID).Where(a => a.makine_adi == "CMA07").Select(a => a.tarih).ToList();
                var CMA07SecilenWattList = Model.SecilenTuketim.Where(a => a.makine_adi == "CMA07").Select(a => a.tuketim).ToList();


                //Geçen x Güne Göre Saat Toplamı ve Fark
                double CMA07gecenXsaatSum = 0;
                CMA07gecenXsaatSum = Model.CncSecilenXSaat.Where(a => a.makine_adi == "CMA07").Select(a => a.calisma_saati).Sum();
                double? CMA07gecenXsaatVerimPer = VerimlilikFark(CMA07gecenXsaatSum, CMA07SecilenTotalS);
                if (double.IsNaN(Convert.ToDouble(CMA07gecenXsaatVerimPer)))
                {
                    CMA07gecenXsaatVerimPer = 0;
                }

                //KW - W
                double? CMA07SecilenKW;
                double CMA07SecilenW = 0;
                CMA07SecilenW = Model.SecilenTuketim.Where(a => a.makine_adi == "CMA07").Select(a => a.tuketim).Sum();
                CMA07SecilenKW = CMA07SecilenW / 1000;
                CMA07SecilenKW = Math.Round(Convert.ToDouble(CMA07SecilenKW), 2);

                //Geçen x Güne Göre Göre Watt Farkı
                double? CMA07SecilenKWPer = VerimlilikFark(ViewBag.CMA07LastMkW, CMA07SecilenKW);
                if (double.IsNaN(Convert.ToDouble(CMA07SecilenKWPer)))
                {
                    CMA07SecilenKWPer = 0;
                }

                //Geçen x Güne Göre Tüketim Toplamı ve Fark

                double? CMA07gecenXtuketimSum = 0;
                CMA07gecenXtuketimSum = Model.CNCSecilenXTuketim.Where(a => a.makine_adi == "CMA07").Select(a => a.tuketim).Sum();
                double? CMA07gecenXtuketimVerimPer = VerimlilikFark(CMA07gecenXtuketimSum, CMA07SecilenW);
                if (double.IsNaN(Convert.ToDouble(CMA07gecenXtuketimVerimPer)) || double.IsInfinity(Convert.ToDouble(CMA07gecenXtuketimVerimPer)))
                {
                    CMA07gecenXtuketimVerimPer = 0;
                }

                //Verimlilik
                var CMA07SecilenVerimlilik = Verimlilik(CMA07SecilenTotalS, ViewBag.diff);

                //Watt Seçilen Tarihler Toplamı
                var CMA07SecilenWattToplamList = Model.CNCSecilenWattCMA07.Select(a => a.tuketim).ToList();


            }
        </div>


        //CNC Genel Verimlilik
        <script>
        var options = {
            series: [@cnctotalVer],
            chart: {
                height: 350,
                type: 'radialBar',
                offsetY: -10,
                colors: '#00E396',
            },

            plotOptions: {
                radialBar: {
                    startAngle: -135,
                    endAngle: 135,
                    dataLabels: {
                        name: {
                            fontSize: '16px',
                            color: undefined,
                            offsetY: 120
                        },
                        value: {
                            offsetY: 76,
                            fontSize: '22px',
                            color: undefined,
                            formatter: function (val) {
                                return val + "%";
                            }
                        }
                    }
                }
            },
            fill: {
                type: 'gradient',
                gradient: {
                    shade: 'dark',
                    shadeIntensity: 0.15,
                    inverseColors: false,
                    opacityFrom: 1,
                    opacityTo: 1,
                    stops: [0, 50, 65, 91]
                },
            },
            stroke: {
                dashArray: 4
            },
            labels: ['Çalışma Verimliliği'],
        };

        var chart = new ApexCharts(document.querySelector("#cnctotalVer"), options);
        chart.render();
        </script>


        //CNC Total Çalışma Saatleri
        <script>
            let fark = @ViewBag.farkgun;

            document.addEventListener("DOMContentLoaded", () => {
                new ApexCharts(document.querySelector("#makinesureleri"), {
                    series: [{
                        name: "Çalışma Süresi:",
                        data: [@MN01SecilenTotalS, @MN02SecilenTotalS, @CMA03SecilenTotalS, @CMA04SecilenTotalS, @CMA05SecilenTotalS, @CMA06SecilenTotalS, @CMA07SecilenTotalS]
                    }],

                    chart: {
                        type: 'bar',
                        height: 300
                    },
                    plotOptions: {
                        bar: {
                            borderRadius: 4,
                            horizontal: true,
                            dataLabels: 'top',

                        }
                    },

                    dataLabels: {
                        enabled: true,
                        style: {
                            colors: ['#012970']
                        },
                        textAnchor: 'right',
                        //offsetX: 30,
                        formatter: function (value) {
                            let total_seconds = parseInt(Math.floor(value / 1000));
                            let total_minutes = parseInt(Math.floor(total_seconds / 60));
                            let total_hours = parseInt(Math.floor(total_minutes / 60));
                            let days = parseInt(Math.floor(total_hours / 24));

                            let seconds = parseInt(total_seconds % 60);
                            let minutes = parseInt(total_minutes % 60);
                            let hours = parseInt(total_hours % 24);

                            if (value >= 86400000) {
                                return days + ":" + hours + ":" + minutes + ":" + seconds;
                            }
                            else {
                                return hours + ":" + minutes + ":" + seconds;
                            }
                        }
                    },
                    stroke: {
                        show: true,
                        width: 1,
                        colors: ['#fff']
                    },
                    xaxis: {
                        categories: ['MN-01', 'MN-02', 'CMA-03', 'CMA-04', 'CMA-05', 'CMA-06', 'CMA-07'],
                        labels: {
                            formatter: function (val, index) {
                                if (val == 86400000) {
                                    return "24";
                                }
                                else {
                                    let totsec = parseInt(Math.floor(val / 1000));
                                    let totmin = parseInt(Math.floor(totsec / 60));
                                    let tothour = parseInt(Math.floor(totmin / 60));

                                    return tothour;
                                }
                            }
                        }
                    },
                    tooltip: {
                        shared: true,
                        intersect: false,
                        y: {
                            formatter: function (value) {
                                let total_seconds = parseInt(Math.floor(value / 1000));
                                let total_minutes = parseInt(Math.floor(total_seconds / 60));
                                let total_hours = parseInt(Math.floor(total_minutes / 60));
                                let days = parseInt(Math.floor(total_hours / 24));

                                let seconds = parseInt(total_seconds % 60);
                                let minutes = parseInt(total_minutes % 60);
                                let hours = parseInt(total_hours % 24);

                                if (value >= 86400000) {
                                    return days + " Gün " + hours + " saat " + minutes + " dakika " + seconds + " saniye" + " | " + fark + " gün içerisinde";
                                }
                                else {
                                    return hours + " saat " + minutes + " dakika " + seconds + " saniye " + " | " + fark + " gün içerisinde";
                                }
                            }
                        },
                    }
                }).render();
            });
        </script>


        //Array Listler
        <script>

    //Son 6 ay Grafik Watt Verileri
            var last6ArrayT = [];
                @foreach (var d in Model.CncMonthLast6)
                 {
                    @:last6ArrayT.push("@d");
                 }

    var SecilenWattTarihArray = [];
    //DateTimePicker Between Dates
                 @if(ViewBag.allDates != null)
                {
                foreach(var d in ViewBag.allDates)
                {
                    @:SecilenWattTarihArray.push("@d");
                }
                }


            //MN01
            var last6ArrayWattMN01 = [];
            var MN01SecilenListSure = [];
            var MN01SecilenListTarih = [];
            var MN01SecilenListWatt = [];

            @foreach(var d in Model.CNCMonthLast6WattMN01)
                {
                    @:last6ArrayWattMN01.push("@d");
                }

            @foreach(var d in MN01SecilenSureList)
                {
                    @:MN01SecilenListSure.push("@d");
                }
            @foreach(var d in MN01SecilenTarihList)
                {
                    @:MN01SecilenListTarih.push("@d");
                }

            @foreach(var d in MN01SecilenWattToplamList)
                {
                    @:MN01SecilenListWatt.push("@d");
                }




            //MN02
            var MN02SecilenListWatt = [];
            var last6ArrayWattMN02 = [];
            var MN02SecilenListSure = [];
            var MN02SecilenListTarih = [];

            @foreach(var d in Model.CNCMonthLast6WattMN02)
                {
                    @:last6ArrayWattMN02.push("@d");
                }

            @foreach(var d in MN02SecilenSureList)
                {
                    @:MN02SecilenListSure.push("@d");
                }
            @foreach(var d in MN02SecilenTarihList)
                {
                    @:MN02SecilenListTarih.push("@d");
                }

            @foreach(var d in MN02SecilenWattToplamList)
                {
                    @:MN02SecilenListWatt.push("@d");
                }


            //CMA03

            var CMA03SecilenListWatt = [];
            var last6ArrayWattCMA03 = [];
            var CMA03SecilenListSure = [];
            var CMA03SecilenListTarih = [];

            @foreach(var d in Model.CNCMonthLast6WattCMA03)
                {
                    @:last6ArrayWattCMA03.push("@d");
                }

            @foreach(var d in CMA03SecilenSureList)
                {
                    @:CMA03SecilenListSure.push("@d");
                }
            @foreach(var d in CMA03SecilenTarihList)
                {
                    @:CMA03SecilenListTarih.push("@d");
                }

            @foreach(var d in CMA03SecilenWattToplamList)
                {
                    @:CMA03SecilenListWatt.push("@d");
                }

            //CMA04

            var CMA04SecilenListWatt = [];
            var last6ArrayWattCMA04 = [];
            var CMA04SecilenListSure = [];
            var CMA04SecilenListTarih = [];

            @foreach(var d in Model.CNCMonthLast6WattCMA04)
                {
                    @:last6ArrayWattCMA04.push("@d");
                }

            @foreach(var d in CMA04SecilenSureList)
                {
                    @:CMA04SecilenListSure.push("@d");
                }
            @foreach(var d in CMA04SecilenTarihList)
                {
                    @:CMA04SecilenListTarih.push("@d");
                }

            @foreach(var d in CMA04SecilenWattToplamList)
                {
                    @:CMA04SecilenListWatt.push("@d");
                }

            //CMA05

            var CMA05SecilenListWatt = [];
            var last6ArrayWattCMA05 = [];
            var CMA05SecilenListSure = [];
            var CMA05SecilenListTarih = [];

            @foreach(var d in Model.CNCMonthLast6WattCMA05)
                {
                    @:last6ArrayWattCMA05.push("@d");
                }

            @foreach(var d in CMA05SecilenSureList)
                {
                    @:CMA05SecilenListSure.push("@d");
                }
            @foreach(var d in CMA05SecilenTarihList)
                {
                    @:CMA05SecilenListTarih.push("@d");
                }

            @foreach(var d in CMA05SecilenWattToplamList)
                {
                    @:CMA05SecilenListWatt.push("@d");
                }

            //CMA06

            var CMA06SecilenListWatt = [];
            var last6ArrayWattCMA06 = [];
            var CMA06SecilenListSure = [];
            var CMA06SecilenListTarih = [];

            @foreach(var d in Model.CNCMonthLast6WattCMA06)
                {
                    @:last6ArrayWattCMA06.push("@d");
                }

            @foreach(var d in CMA06SecilenSureList)
                {
                    @:CMA06SecilenListSure.push("@d");
                }
            @foreach(var d in CMA06SecilenTarihList)
                {
                    @:CMA06SecilenListTarih.push("@d");
                }

            @foreach(var d in CMA06SecilenWattToplamList)
                {
                    @:CMA06SecilenListWatt.push("@d");
                }

            //CMA07

            var CMA07SecilenListWatt = [];
            var last6ArrayWattCMA07 = [];
            var CMA07SecilenListSure = [];
            var CMA07SecilenListTarih = [];

            @foreach(var d in Model.CNCMonthLast6WattCMA07)
                {
                    @:last6ArrayWattCMA07.push("@d");
                }

            @foreach(var d in CMA07SecilenSureList)
                {
                    @:CMA07SecilenListSure.push("@d");
                }
            @foreach(var d in CMA07SecilenTarihList)
                {
                    @:CMA07SecilenListTarih.push("@d");
                }

            @foreach(var d in CMA07SecilenWattToplamList)
                {
                    @:CMA07SecilenListWatt.push("@d");
                }

            console.log(SecilenWattTarihArray);
            console.log(MN01SecilenListWatt);


        </script>


        //DatetimePicker Script
        <script>

            $(function ($) {
                $.fn.datepicker.dates['tr'] =
                {
                    days: ["Pazar", "Pazartesi", "Salı", "Çarşamba", "Perşembe", "Cuma", "Cumartesi", "Pazar"],
                    daysShort: ["Pz", "Pzt", "Sal", "Çrş", "Prş", "Cu", "Cts", "Pz"],
                    daysMin: ["Pz", "Pzt", "Sa", "Çr", "Pr", "Cu", "Ct", "Pz"],
                    months: ["Ocak", "Şubat", "Mart", "Nisan", "Mayıs", "Haziran", "Temmuz", "Ağustos", "Eylül", "Ekim", "Kasım", "Aralık"],
                    monthsShort: ["Oca", "Şub", "Mar", "Nis", "May", "Haz", "Tem", "Ağu", "Eyl", "Eki", "Kas", "Ara"],
                    today: "Bugün",
                };
            });

            $(function () {

                today = new Date(new Date().getFullYear(), new Date().getMonth(), new Date().getDate() - 1);

                $('#dp1').datepicker({
                    endDate: today,
                    autoclose: true,
                    format: 'dd-mm-yyyy',
                    language: "tr",

                })


                $('#dp2').datepicker({
                    autoclose: true,
                    format: 'dd-mm-yyyy',
                    language: "tr",
                    minDate: 0,
                    endDate: today,
                })
            });


        </script>

        //MN01

        <div class="card">
            <h3 style="font-size:23px;padding-left:13px" class="card-title">MN-01 Raporlar</h3>
            <div class="col-lg-12">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="card">
                            <div class="col-lg-12">
                                <div class="row">
                                    <div class="col-xl-3 mb-4">
                                        <div class="card">
                                            <div class="chart-wrapper mb-4">
                                                <div class="px-4 pt-4 d-flex justify-content-between" style="margin-top:20px">
                                                    <div>
                                                        <h4 style="font-size:21px;color: black;font-weight:bold"><span><img src="~/Content/icons/lighting.png" /></span>Elektrik Tüketimi</h4>
                                                        <p style="font-size: 15px; color: dimgray ">Önceki @ViewBag.farkgun Güne Göre</p>
                                                    </div>
                                                    <div>
                                                        <span><i class="fa fa-caret-up text-success"></i></span>
                                                        <h4 class="d-inline-block" style="color: #008FFB">@MN01SecilenKW kW</h4>
                                                        @if (MN01SecilenW <= mn01gecenXtuketimSum)
                                                        {
                                                            if (mn01gecenXtuketimVerimPer == 0)
                                                            {
                                                                <p class="" style="color:#FABE2C"><span><img src="~/Content/icons/minus-or.png" /></span> %@mn01gecenXtuketimVerimPer</p>
                                                            }
                                                            else
                                                            {
                                                                <p class=" text-danger"><span><img src="~/Content/icons/downward-arrow.png" /></span> %@mn01gecenXtuketimVerimPer</p>
                                                            }

                                                        }
                                                        @if (MN01SecilenW > mn01gecenXtuketimSum)
                                                        {
                                                            if (mn01gecenXtuketimVerimPer == 0)
                                                            {
                                                                <p class="" style="color:#FABE2C"><span><img src="~/Content/icons/minus-or.png" /></span> %@mn01gecenXtuketimVerimPer</p>
                                                            }
                                                            else
                                                            {
                                                                <p class=" text-success"><span><img src="~/Content/icons/arrow-up.png" /></span>%@mn01gecenXtuketimVerimPer</p>
                                                            }

                                                        }
                                                    </div>
                                                </div>
                                                <div>
                                                    <div id="MN01Elektrik"></div>
                                                </div>
                                            </div>
                                            <div class="card-body border-top pt-4" style="margin-top:22px">
                                                <div class="row">
                                                    <div class="col-sm-6">
                                                        <div>
                                                            <h5 style="color:black;font-size:20px;font-weight:bold">Çalışma Süresi</h5>
                                                            <h4 style="color: #008FFB">@MN01SecilenTotalA</h4>
                                                        </div>
                                                        <ul style="margin-top:25px">
                                                            <li style="font-size:15px;color:black"><span style="color: #00E396;font-weight:bold;font-size:17px">@ViewBag.farkgun </span>Günde <span style="color: #00E396;font-weight:bold;font-size:17px">@MN01SecilenTotalA</span> Çalışma Süresi</li>
                                                            @if (MN01SecilenTotalS <= mn01gecenXsaatSum)
                                                            {
                                                                if (mn01gecenXsaatVerimPer == 0)
                                                                {
                                                                    <li style="font-size:15px;padding-top:10px;color:black">Önceki <span style="color:#008FFB;font-weight:bold">@ViewBag.farkgun</span>  Güne Göre <span style="color: #FABE2C; font-weight: bold; font-size: 17px">%@mn01gecenXsaatVerimPer </span>Verimli</li>
                                                                }
                                                                else
                                                                {
                                                                    <li style="font-size:15px;padding-top:10px;color:black">Önceki <span style="color: #008FFB;font-weight:bold">@ViewBag.farkgun</span> Güne Göre <span style="color: red;font-weight:bold;font-size:17px">%@mn01gecenXsaatVerimPer </span>Verimli</li>
                                                                }

                                                            }
                                                            @if (MN01SecilenTotalS > mn01gecenXsaatSum)
                                                            {
                                                                if (mn01gecenXsaatVerimPer == 0)
                                                                {
                                                                    <li style="font-size:15px;padding-top:10px;color:black">Önceki <span style="color:#008FFB;font-weight:bold">@ViewBag.farkgun</span> Güne Göre <span style="color: #FABE2C; font-weight: bold; font-size: 17px">%@mn01gecenXsaatVerimPer </span>Verimli</li>
                                                                }
                                                                else
                                                                {
                                                                    <li style="font-size:15px;padding-top:10px;color:black">Önceki <span style="color:#008FFB;font-weight:bold">@ViewBag.farkgun</span> Güne Göre <span style="color: green;font-weight:bold;font-size:17px">+%@mn01gecenXsaatVerimPer </span>Verimli</li>
                                                                }

                                                            }

                                                        </ul>
                                                    </div>
                                                    <div class="col-sm-6">
                                                        <div style="margin-top:30px" id="MN01SecilenVerimlilik"></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xl-9">
                                        <div class="row">
                                            <div class="col-xl-12">
                                                <div class="card" style="margin-right:15px">
                                                    <h4 class="card-title" style="padding-left:20px;color:black">Tüketim-Watt Grafiği</h4>
                                                    <div id="MN01tuketim"></div>
                                                </div>
                                            </div>

                                        </div>
                                        <div class="row">
                                            <div class="col-xl-12">
                                                <div class="card" style="margin-right:15px">
                                                    <h4 class="card-title" style="padding-left:20px;color:black">Çalışma-Zaman Grafiği</h4>
                                                    <div id="mn01calisma"></div>
                                                </div>
                                            </div>


                                        </div>

                                    </div>
                                </div>

                                @*Verimlilik*@
                                <script>
                            var options = {
                                series: [@MN01SecilenVerimlilik],
                            chart: {
                            height: 217,
                            type: 'radialBar',
                            toolbar: {
                            show: true
                            }
                        },
                            plotOptions: {
                            radialBar: {
                            startAngle: -135,
                            endAngle: 225,
                            hollow: {
                                margin: 0,
                                size: '70%',
                                background: '#fff',
                                image: undefined,
                                imageOffsetX: 0,
                                imageOffsetY: 0,
                                position: 'front',
                                dropShadow: {
                                    enabled: true,
                                    top: 3,
                                    left: 0,
                                    blur: 4,
                                    opacity: 0.24
                                }
                            },
                            track: {
                                background: '#fff',
                                strokeWidth: '67%',
                                margin: 0, // margin is in pixels
                                dropShadow: {
                                    enabled: true,
                                    top: -3,
                                    left: 0,
                                    blur: 4,
                                    opacity: 0.35
                                }
                            },

                            dataLabels: {
                                show: true,
                                name: {
                                    offsetY: -10,
                                    show: true,
                                    color: 'black',
                                    fontSize: '17px'
                                },
                                value: {
                                    formatter: function (val) {
                                        return '%' + parseInt(val);
                                    },
                                    color: '#111',
                                    fontSize: '21px',
                                    show: true,
                                }
                            }
                        }
                    },
                            fill: {
                            type: 'gradient',
                            gradient: {
                            shade: 'dark',
                            type: 'horizontal',
                            shadeIntensity: 0.5,
                            gradientToColors: ['#ABE5A1'],
                            inverseColors: true,
                            opacityFrom: 1,
                            opacityTo: 1,
                            stops: [0, 100]
                            }
                        },
                            stroke: {
                            lineCap: 'round'
                        },
                            labels: ['Verimlilik'],
                        };

                        var chart = new ApexCharts(document.querySelector("#MN01SecilenVerimlilik"), options);
                        chart.render();
                                </script>


                                @*Sparkline Watt*@
                                <script>
                                    var options1 = {
                                        series: [{
                                            name: "MN-01 Watt Tüketim",
                                            data: last6ArrayWattMN01,
                                        }],
                                        chart: {
                                            height: 180,
                                            type: 'area',
                                            zoom: {
                                                enabled: false
                                            },
                                            sparkline: {
                                                enabled: true
                                            },
                                        },
                                        dataLabels: {
                                            enabled: false
                                        },
                                        stroke: {
                                            curve: 'straight'
                                        },

                                        yaxis: {
                                            min: -5,
                                        },
                                        title: {
                                            text: 'Son 6 Ay',
                                            offsetX: 0,
                                            style: {
                                                fontSize: '16px',
                                                color: '#00E396',

                                            }
                                        },
                                        xaxis: {
                                            categories: last6ArrayT,
                                        }
                                    };

                                    var chart1 = new ApexCharts(document.querySelector("#MN01Elektrik"), options1);
                                    chart1.render();

                                </script>


                                @*Watt Grafik*@
                                <script>
                                    var options = {
                                        series: [
                                            {
                                                name: 'Watt',
                                                type: 'bar',
                                                data: MN01SecilenListWatt,
                                            }
                                        ],
                                        chart: {
                                            height: 230,
                                            type: 'line',
                                            stacked: false,
                                        },

                                        stroke: {
                                            width: [0, 2, 5],
                                            curve: 'smooth'
                                        },
                                        plotOptions: {
                                            bar: {
                                                columnWidth: '50%'
                                            }
                                        },

                                        fill: {
                                            opacity: [0.85, 0.25, 1],
                                            gradient: {
                                                inverseColors: false,
                                                shade: 'light',
                                                type: "vertical",
                                                opacityFrom: 0.85,
                                                opacityTo: 0.55,
                                                stops: [0, 100, 100, 100]
                                            }
                                        },
                                        title: {

                                        },
                                        xaxis: {
                                            type: 'string',
                                            categories: SecilenWattTarihArray,
                                            labels: {
                                                formatter: function (value) {
                                                    if (value !== undefined)
                                                        splittedCategories = value.split(" ")
                                                    HhMmSs = splittedCategories[0]
                                                    return HhMmSs;
                                                }
                                            },
                                        },

                                        markers: {
                                            size: 0
                                        },

                                        yaxis: {
                                            title: {
                                                text: 'W (Watt)'
                                            }
                                        },
                                        fill: {
                                            opacity: 1
                                        },
                                        tooltip: {
                                            shared: true,
                                            intersect: false,
                                            y: [{
                                                formatter: function (y) {
                                                    if (typeof y == "undefined" || typeof y == null) {
                                                        return y = 0 + " Watt";
                                                    }
                                                    else {
                                                        return y + " W"
                                                    }


                                                }
                                            }]
                                        }
                                    };

                                    var chart = new ApexCharts(document.querySelector("#MN01tuketim"), options);
                                    chart.render();
                                </script>


                                @*Çalışma Grafik*@
                                <script>
                                    var options = {
                                        series: [{
                                            name: 'Çalışma Saati',
                                            data: MN01SecilenListSure
                                        }],
                                        chart: {
                                            height: 230,
                                            type: 'area'
                                        },
                                        colors: ['#00E396'],
                                        dataLabels: {
                                            enabled: false
                                        },
                                        stroke: {
                                            curve: 'smooth'
                                        },
                                        xaxis: {
                                            type: 'string',
                                            categories: SecilenWattTarihArray,
                                            labels: {
                                                formatter: function (value) {
                                                    if (value !== undefined)
                                                        splittedCategories = value.split(" ")
                                                    HhMmSs = splittedCategories[0]
                                                    return HhMmSs;
                                                }
                                            },
                                        },
                                        yaxis: [
                                            {
                                                opposite: false,
                                                title: {
                                                    text: "Saat"
                                                },
                                                labels: {
                                                    formatter: function (val, index) {
                                                        let total_seconds = parseInt(Math.floor(val / 1000));
                                                        let total_minutes = parseInt(Math.floor(total_seconds / 60));
                                                        let total_hours = parseInt(Math.floor(total_minutes / 60));
                                                        let hours = parseInt(total_hours % 24);

                                                        if (val >= 86400000) {
                                                            return hours;
                                                        }
                                                        else {
                                                            return hours;
                                                        }
                                                    }
                                                }
                                            },
                                        ],
                                        tooltip: {
                                            shared: true,
                                            intersect: false,
                                            y: [{
                                                formatter: function (value) {
                                                    let total_seconds = parseInt(Math.floor(value / 1000));
                                                    let total_minutes = parseInt(Math.floor(total_seconds / 60));
                                                    let total_hours = parseInt(Math.floor(total_minutes / 60));
                                                    let days = parseInt(Math.floor(total_hours / 24));

                                                    let seconds = parseInt(total_seconds % 60);
                                                    let minutes = parseInt(total_minutes % 60);
                                                    let hours = parseInt(total_hours % 24);

                                                    if (value >= 86400000) {
                                                        return days + " Gün " + hours + " saat " + minutes + " dakika " + seconds + " saniye"
                                                    }
                                                    else {
                                                        return hours + " saat " + minutes + " dakika " + seconds + " saniye "
                                                    }
                                                }

                                            }]
                                        }
                                    };

                                    var chart = new ApexCharts(document.querySelector("#mn01calisma"), options);
                                    chart.render();
                                </script>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        //MN02

        <div class="card">
            <h3 style="font-size:23px;padding-left:13px" class="card-title">MN-02 Raporlar</h3>
            <div class="col-lg-12">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="card">
                            <div class="col-lg-12">
                                <div class="row">
                                    <div class="col-xl-3 mb-4">
                                        <div class="card">
                                            <div class="chart-wrapper mb-4">
                                                <div class="px-4 pt-4 d-flex justify-content-between" style="margin-top:20px">
                                                    <div>
                                                        <h4 style="font-size:21px;color: black;font-weight:bold"><span><img src="~/Content/icons/lighting.png" /></span>Elektrik Tüketimi</h4>
                                                        <p style="font-size: 15px; color: dimgray ">Önceki @ViewBag.farkgun Güne Göre</p>
                                                    </div>
                                                    <div>
                                                        <span><i class="fa fa-caret-up text-success"></i></span>
                                                        <h4 class="d-inline-block" style="color: #008FFB">@MN02SecilenKW kW</h4>
                                                        @if (MN02SecilenW <= MN02gecenXtuketimSum)
                                                        {
                                                            if (MN02gecenXtuketimVerimPer == 0)
                                                            {
                                                                <p class="" style="color:#FABE2C"><span><img src="~/Content/icons/minus-or.png" /></span> %@MN02gecenXtuketimVerimPer</p>
                                                            }
                                                            else
                                                            {
                                                                <p class=" text-danger"><span><img src="~/Content/icons/downward-arrow.png" /></span> %@MN02gecenXtuketimVerimPer</p>
                                                            }

                                                        }
                                                        @if (MN02SecilenW > MN02gecenXtuketimSum)
                                                        {
                                                            if (MN02gecenXtuketimVerimPer == 0)
                                                            {
                                                                <p class="" style="color:#FABE2C"><span><img src="~/Content/icons/minus-or.png" /></span> %@MN02gecenXtuketimVerimPer</p>
                                                            }
                                                            else
                                                            {
                                                                <p class=" text-success"><span><img src="~/Content/icons/arrow-up.png" /></span>%@MN02gecenXtuketimVerimPer</p>
                                                            }

                                                        }
                                                    </div>
                                                </div>
                                                <div>
                                                    <div id="MN02Elektrik"></div>
                                                </div>
                                            </div>
                                            <div class="card-body border-top pt-4" style="margin-top:30px">
                                                <div class="row">
                                                    <div class="col-sm-6" style="margin-top:20px">
                                                        <div>
                                                            <h5 style="color:black;font-size:20px;font-weight:bold">Çalışma Süresi</h5>
                                                            <h4 style="color: #008FFB">@MN02SecilenTotalA</h4>
                                                        </div>
                                                        <ul style="margin-top:25px">
                                                            <li style="font-size:15px;color:black"><span style="color: #00E396;font-weight:bold;font-size:17px">@ViewBag.farkgun </span>Günde <span style="color: #00E396;font-weight:bold;font-size:17px">@MN02SecilenTotalA</span> Çalışma Süresi</li>
                                                            @if (MN02SecilenTotalS <= MN02gecenXsaatSum)
                                                            {
                                                                if (MN02gecenXsaatVerimPer == 0)
                                                                {
                                                                    <li style="font-size:15px;padding-top:10px;color:black"> Önceki <span style="color:#008FFB;font-weight:bold">@ViewBag.farkgun</span> Güne Göre <span style="color: #FABE2C; font-weight: bold; font-size: 17px">%@MN02gecenXsaatVerimPer </span>Verimli</li>
                                                                }
                                                                else
                                                                {
                                                                    <li style="font-size:15px;padding-top:10px;color:black"> Önceki <span style="color:#008FFB;font-weight:bold">@ViewBag.farkgun</span> Güne Göre <span style="color: red;font-weight:bold;font-size:17px">%@MN02gecenXsaatVerimPer </span>Verimli</li>
                                                                }

                                                            }
                                                            @if (MN02SecilenTotalS > MN02gecenXsaatSum)
                                                            {
                                                                if (MN02gecenXsaatVerimPer == 0)
                                                                {
                                                                    <li style="font-size:15px;padding-top:10px;color:black"> Önceki <span style="color:#008FFB;font-weight:bold">@ViewBag.farkgun</span> Güne Göre <span style="color: #FABE2C; font-weight: bold; font-size: 17px">%@MN02gecenXsaatVerimPer </span>Verimli</li>
                                                                }
                                                                else
                                                                {
                                                                    <li style="font-size:15px;padding-top:10px;color:black">Önceki <span style="color:#008FFB;font-weight:bold">@ViewBag.farkgun</span> Güne Göre <span style="color: green;font-weight:bold;font-size:17px">+%@MN02gecenXsaatVerimPer </span>Verimli</li>
                                                                }

                                                            }

                                                        </ul>
                                                    </div>
                                                    <div class="col-sm-6">
                                                        <div style="margin-top:30px" id="MN02SecilenVerimlilik"></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xl-9">
                                        <div class="row">
                                            <div class="col-xl-12">
                                                <div class="card" style="margin-right:15px">
                                                    <h4 class="card-title" style="padding-left:20px;color:black">Tüketim-Watt Grafiği</h4>
                                                    <div id="MN02tuketim"></div>
                                                </div>
                                            </div>

                                        </div>
                                        <div class="row">
                                            <div class="col-xl-12">
                                                <div class="card" style="margin-right:15px">
                                                    <h4 class="card-title" style="padding-left:20px;color:black">Çalışma-Zaman Grafiği</h4>
                                                    <div id="mn02calisma"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>

                                @*Verimlilik*@
                                <script>
                            var options = {
                                series: [@MN02SecilenVerimlilik],
                            chart: {
                            height: 217,
                            type: 'radialBar',
                            toolbar: {
                            show: true
                            }
                        },
                            plotOptions: {
                            radialBar: {
                            startAngle: -135,
                            endAngle: 225,
                            hollow: {
                                margin: 0,
                                size: '70%',
                                background: '#fff',
                                image: undefined,
                                imageOffsetX: 0,
                                imageOffsetY: 0,
                                position: 'front',
                                dropShadow: {
                                    enabled: true,
                                    top: 3,
                                    left: 0,
                                    blur: 4,
                                    opacity: 0.24
                                }
                            },
                            track: {
                                background: '#fff',
                                strokeWidth: '67%',
                                margin: 0, // margin is in pixels
                                dropShadow: {
                                    enabled: true,
                                    top: -3,
                                    left: 0,
                                    blur: 4,
                                    opacity: 0.35
                                }
                            },

                            dataLabels: {
                                show: true,
                                name: {
                                    offsetY: -10,
                                    show: true,
                                    color: 'black',
                                    fontSize: '17px'
                                },
                                value: {
                                    formatter: function (val) {
                                        return '%' + parseInt(val);
                                    },
                                    color: '#111',
                                    fontSize: '21px',
                                    show: true,
                                }
                            }
                        }
                    },
                            fill: {
                            type: 'gradient',
                            gradient: {
                            shade: 'dark',
                            type: 'horizontal',
                            shadeIntensity: 0.5,
                            gradientToColors: ['#ABE5A1'],
                            inverseColors: true,
                            opacityFrom: 1,
                            opacityTo: 1,
                            stops: [0, 100]
                            }
                        },
                            stroke: {
                            lineCap: 'round'
                        },
                            labels: ['Verimlilik'],
                        };

                        var chart = new ApexCharts(document.querySelector("#MN02SecilenVerimlilik"), options);
                        chart.render();
                                </script>


                                @*Sparkline Watt*@
                                <script>
                                    var options1 = {
                                        series: [{
                                            name: "MN-02 Watt Tüketim",
                                            data: last6ArrayWattMN02,
                                        }],
                                        chart: {
                                            height: 170,
                                            type: 'area',
                                            zoom: {
                                                enabled: false
                                            },
                                            sparkline: {
                                                enabled: true
                                            },
                                        },
                                        dataLabels: {
                                            enabled: false
                                        },
                                        stroke: {
                                            curve: 'straight'
                                        },

                                        yaxis: {
                                            min: -5,
                                        },
                                        title: {
                                            text: 'Son 6 Ay',
                                            offsetX: 0,
                                            style: {
                                                fontSize: '16px',
                                                color: '#00E396',

                                            }
                                        },
                                        xaxis: {
                                            categories: last6ArrayT,
                                        }
                                    };

                                    var chart2 = new ApexCharts(document.querySelector("#MN02Elektrik"), options1);
                                    chart2.render();

                                </script>


                                @*Watt Grafik*@
                                <script>
                                    var options = {
                                        series: [
                                            {
                                                name: 'Watt',
                                                type: 'bar',
                                                data: MN02SecilenListWatt,
                                            }
                                        ],
                                        chart: {
                                            height: 230,
                                            type: 'line',
                                            stacked: false,
                                        },

                                        stroke: {
                                            width: [0, 2, 5],
                                            curve: 'smooth'
                                        },
                                        plotOptions: {
                                            bar: {
                                                columnWidth: '50%'
                                            }
                                        },

                                        fill: {
                                            opacity: [0.85, 0.25, 1],
                                            gradient: {
                                                inverseColors: false,
                                                shade: 'light',
                                                type: "vertical",
                                                opacityFrom: 0.85,
                                                opacityTo: 0.55,
                                                stops: [0, 100, 100, 100]
                                            }
                                        },
                                        title: {

                                        },
                                        xaxis: {
                                            type: 'string',
                                            categories: SecilenWattTarihArray,
                                            labels: {
                                                formatter: function (value) {
                                                    if (value !== undefined)
                                                        splittedCategories = value.split(" ")
                                                    HhMmSs = splittedCategories[0]
                                                    return HhMmSs;
                                                }
                                            },
                                        },

                                        markers: {
                                            size: 0
                                        },

                                        yaxis: {
                                            title: {
                                                text: 'W (Watt)'
                                            }
                                        },
                                        fill: {
                                            opacity: 1
                                        },
                                        tooltip: {
                                            shared: true,
                                            intersect: false,
                                            y: [{
                                                formatter: function (y) {
                                                    if (typeof y == "undefined" || typeof y == null) {
                                                        return y = 0 + " Watt";
                                                    }
                                                    else {
                                                        return y + " W"
                                                    }


                                                }
                                            }]
                                        }
                                    };

                                    var chart = new ApexCharts(document.querySelector("#MN02tuketim"), options);
                                    chart.render();
                                </script>


                                @*Çalışma Grafik*@
                                <script>
                                    var options = {
                                        series: [{
                                            name: 'Çalışma Saati',
                                            data: MN02SecilenListSure
                                        }],
                                        chart: {
                                            height: 230,
                                            type: 'area'
                                        },
                                        colors: ['#00E396'],
                                        dataLabels: {
                                            enabled: false
                                        },
                                        stroke: {
                                            curve: 'smooth'
                                        },
                                        xaxis: {
                                            type: 'string',
                                            categories: SecilenWattTarihArray,
                                            labels: {
                                                formatter: function (value) {
                                                    if (value !== undefined)
                                                        splittedCategories = value.split(" ")
                                                    HhMmSs = splittedCategories[0]
                                                    return HhMmSs;
                                                }
                                            },
                                        },
                                        yaxis: [
                                            {
                                                opposite: false,
                                                title: {
                                                    text: "Saat"
                                                },
                                                labels: {
                                                    formatter: function (val, index) {
                                                        let total_seconds = parseInt(Math.floor(val / 1000));
                                                        let total_minutes = parseInt(Math.floor(total_seconds / 60));
                                                        let total_hours = parseInt(Math.floor(total_minutes / 60));
                                                        let hours = parseInt(total_hours % 24);

                                                        if (val >= 86400000) {
                                                            return hours;
                                                        }
                                                        else {
                                                            return hours;
                                                        }
                                                    }
                                                }
                                            },
                                        ],
                                        tooltip: {
                                            shared: true,
                                            intersect: false,
                                            y: [{
                                                formatter: function (value) {
                                                    let total_seconds = parseInt(Math.floor(value / 1000));
                                                    let total_minutes = parseInt(Math.floor(total_seconds / 60));
                                                    let total_hours = parseInt(Math.floor(total_minutes / 60));
                                                    let days = parseInt(Math.floor(total_hours / 24));

                                                    let seconds = parseInt(total_seconds % 60);
                                                    let minutes = parseInt(total_minutes % 60);
                                                    let hours = parseInt(total_hours % 24);

                                                    if (value >= 86400000) {
                                                        return days + " Gün " + hours + " saat " + minutes + " dakika " + seconds + " saniye"
                                                    }
                                                    else {
                                                        return hours + " saat " + minutes + " dakika " + seconds + " saniye "
                                                    }
                                                }

                                            }]
                                        }
                                    };

                                    var chart = new ApexCharts(document.querySelector("#mn02calisma"), options);
                                    chart.render();
                                </script>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        //CMA03

        <div class="card">
            <h3 style="font-size:23px;padding-left:13px" class="card-title">CMA-03 Raporlar</h3>
            <div class="col-lg-12">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="card">
                            <div class="col-lg-12">
                                <div class="row">
                                    <div class="col-xl-3 mb-4">
                                        <div class="card">
                                            <div class="chart-wrapper mb-4">
                                                <div class="px-4 pt-4 d-flex justify-content-between" style="margin-top:22px">
                                                    <div>
                                                        <h4 style="font-size:21px;color: black;font-weight:bold"><span><img src="~/Content/icons/lighting.png" /></span>Elektrik Tüketimi</h4>
                                                        <p style="font-size: 15px; color: dimgray ">
                                                            @ViewBag.farkgun Güne Göre
                                                        </p>
                                                    </div>
                                                    <div>
                                                        <span><i class="fa fa-caret-up text-success"></i></span>
                                                        <h4 class="d-inline-block" style="color: #008FFB">@CMA03SecilenKW kW</h4>
                                                        @if (CMA03SecilenW <= CMA03gecenXtuketimSum)
                                                        {
                                                            if (CMA03gecenXtuketimVerimPer == 0)
                                                            {
                                                                <p class="" style="color:#FABE2C"><span><img src="~/Content/icons/minus-or.png" /></span> %@CMA03gecenXtuketimVerimPer</p>
                                                            }
                                                            else
                                                            {
                                                                <p class=" text-danger"><span><img src="~/Content/icons/downward-arrow.png" /></span> %@CMA03gecenXtuketimVerimPer</p>
                                                            }

                                                        }
                                                        @if (CMA03SecilenW > CMA03gecenXtuketimSum)
                                                        {
                                                            if (CMA03gecenXtuketimVerimPer == 0)
                                                            {
                                                                <p class="" style="color:#FABE2C"><span><img src="~/Content/icons/minus-or.png" /></span> %@CMA03gecenXtuketimVerimPer</p>
                                                            }
                                                            else
                                                            {
                                                                <p class=" text-success"><span><img src="~/Content/icons/arrow-up.png" /></span>%@CMA03gecenXtuketimVerimPer</p>
                                                            }

                                                        }
                                                    </div>
                                                </div>
                                                <div>
                                                    <div id="CMA03Elektrik"></div>
                                                </div>
                                            </div>
                                            <div class="card-body border-top pt-4" style="margin-top:25px">
                                                <div class="row">
                                                    <div class="col-sm-6" style="margin-top:25px">
                                                        <div>
                                                            <h5 style="color:black;font-size:20px;font-weight:bold">Çalışma Süresi</h5>
                                                            <h4 style="color: #008FFB">@CMA03SecilenTotalA</h4>
                                                        </div>
                                                        <ul style="margin-top:25px">
                                                            <li style="font-size:15px;color:black"><span style="color: #00E396;font-weight:bold;font-size:17px">@ViewBag.farkgun </span>Günde <span style="color: #00E396;font-weight:bold;font-size:17px">@CMA03SecilenTotalA</span> Çalışma Süresi</li>
                                                            @if (CMA03SecilenTotalS <= CMA03gecenXsaatSum)
                                                            {
                                                                if (CMA03gecenXsaatVerimPer == 0)
                                                                {
                                                                    <li style="font-size:15px;padding-top:10px;color:black"> Önceki <span style="color:#008FFB;font-weight:bold">@ViewBag.farkgun</span> Güne Göre <span style="color: #FABE2C; font-weight: bold; font-size: 17px">%@CMA03gecenXsaatVerimPer </span>Verimli</li>
                                                                }
                                                                else
                                                                {
                                                                    <li style="font-size:15px;padding-top:10px;color:black"> Önceki <span style="color:#008FFB;font-weight:bold">@ViewBag.farkgun</span> Güne Göre <span style="color: red;font-weight:bold;font-size:17px">%@CMA03gecenXsaatVerimPer </span>Verimli</li>
                                                                }

                                                            }
                                                            @if (CMA03SecilenTotalS > CMA03gecenXsaatSum)
                                                            {
                                                                if (CMA03gecenXsaatVerimPer == 0)
                                                                {
                                                                    <li style="font-size:15px;padding-top:10px;color:black">Önceki <span style="color:#008FFB;font-weight:bold">@ViewBag.farkgun</span> Güne Göre <span style="color: #FABE2C; font-weight: bold; font-size: 17px">%@CMA03gecenXsaatVerimPer </span>Verimli</li>
                                                                }
                                                                else
                                                                {
                                                                    <li style="font-size:15px;padding-top:10px;color:black">Önceki <span style="color:#008FFB;font-weight:bold">@ViewBag.farkgun</span> Güne Göre <span style="color: green;font-weight:bold;font-size:17px">+%@CMA03gecenXsaatVerimPer </span>Verimli</li>
                                                                }

                                                            }

                                                        </ul>
                                                    </div>
                                                    <div class="col-sm-6">
                                                        <div style="margin-top:30px" id="CMA03SecilenVerimlilik"></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xl-9">
                                        <div class="row">
                                            <div class="col-xl-12">
                                                <div class="card" style="margin-right:15px">
                                                    <h4 class="card-title" style="padding-left:20px;color:black">Tüketim-Watt Grafiği</h4>
                                                    <div id="cma03tuketim"></div>
                                                </div>
                                            </div>

                                        </div>
                                        <div class="row">
                                            <div class="col-xl-12">
                                                <div class="card" style="margin-right:15px">
                                                    <h4 class="card-title" style="padding-left:20px;color:black">Çalışma-Zaman Grafiği</h4>
                                                    <div id="cma03calisma"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                @*Verimlilik*@
                                <script>
                            var options = {
                                series: [@CMA03SecilenVerimlilik],
                            chart: {
                            height: 217,
                            type: 'radialBar',
                            toolbar: {
                            show: true
                            }
                        },
                            plotOptions: {
                            radialBar: {
                            startAngle: -135,
                            endAngle: 225,
                            hollow: {
                                margin: 0,
                                size: '70%',
                                background: '#fff',
                                image: undefined,
                                imageOffsetX: 0,
                                imageOffsetY: 0,
                                position: 'front',
                                dropShadow: {
                                    enabled: true,
                                    top: 3,
                                    left: 0,
                                    blur: 4,
                                    opacity: 0.24
                                }
                            },
                            track: {
                                background: '#fff',
                                strokeWidth: '67%',
                                margin: 0, // margin is in pixels
                                dropShadow: {
                                    enabled: true,
                                    top: -3,
                                    left: 0,
                                    blur: 4,
                                    opacity: 0.35
                                }
                            },

                            dataLabels: {
                                show: true,
                                name: {
                                    offsetY: -10,
                                    show: true,
                                    color: 'black',
                                    fontSize: '17px'
                                },
                                value: {
                                    formatter: function (val) {
                                        return '%' + parseInt(val);
                                    },
                                    color: '#111',
                                    fontSize: '21px',
                                    show: true,
                                }
                            }
                        }
                    },
                            fill: {
                            type: 'gradient',
                            gradient: {
                            shade: 'dark',
                            type: 'horizontal',
                            shadeIntensity: 0.5,
                            gradientToColors: ['#ABE5A1'],
                            inverseColors: true,
                            opacityFrom: 1,
                            opacityTo: 1,
                            stops: [0, 100]
                            }
                        },
                            stroke: {
                            lineCap: 'round'
                        },
                            labels: ['Verimlilik'],
                        };

                        var chart = new ApexCharts(document.querySelector("#CMA03SecilenVerimlilik"), options);
                        chart.render();
                                </script>


                                @*Sparkline Watt*@
                                <script>
                                    var options1 = {
                                        series: [{
                                            name: "CMA-03 Watt Tüketim",
                                            data: last6ArrayWattCMA03,
                                        }],
                                        chart: {
                                            height: 170,
                                            type: 'area',
                                            zoom: {
                                                enabled: false
                                            },
                                            sparkline: {
                                                enabled: true
                                            },
                                        },
                                        dataLabels: {
                                            enabled: false
                                        },
                                        stroke: {
                                            curve: 'straight'
                                        },

                                        yaxis: {
                                            min: -5,
                                        },
                                        title: {
                                            text: 'Son 6 Ay',
                                            offsetX: 0,
                                            style: {
                                                fontSize: '16px',
                                                color: '#00E396',

                                            }
                                        },
                                        xaxis: {
                                            categories: last6ArrayT,
                                        }
                                    };

                                    var chart2 = new ApexCharts(document.querySelector("#CMA03Elektrik"), options1);
                                    chart2.render();

                                </script>


                                @*Watt Grafik*@
                                <script>
                                    var options = {
                                        series: [
                                            {
                                                name: 'Watt',
                                                type: 'bar',
                                                data: CMA03SecilenListWatt,
                                            }
                                        ],
                                        chart: {
                                            height: 230,
                                            type: 'line',
                                            stacked: false,
                                        },

                                        stroke: {
                                            width: [0, 2, 5],
                                            curve: 'smooth'
                                        },
                                        plotOptions: {
                                            bar: {
                                                columnWidth: '50%'
                                            }
                                        },

                                        fill: {
                                            opacity: [0.85, 0.25, 1],
                                            gradient: {
                                                inverseColors: false,
                                                shade: 'light',
                                                type: "vertical",
                                                opacityFrom: 0.85,
                                                opacityTo: 0.55,
                                                stops: [0, 100, 100, 100]
                                            }
                                        },
                                        title: {

                                        },
                                        xaxis: {
                                            type: 'string',
                                            categories: SecilenWattTarihArray,
                                            labels: {
                                                formatter: function (value) {
                                                    if (value !== undefined)
                                                        splittedCategories = value.split(" ")
                                                    HhMmSs = splittedCategories[0]
                                                    return HhMmSs;
                                                }
                                            },
                                        },

                                        markers: {
                                            size: 0
                                        },

                                        yaxis: {
                                            title: {
                                                text: 'W (Watt)'
                                            }
                                        },
                                        fill: {
                                            opacity: 1
                                        },
                                        tooltip: {
                                            shared: true,
                                            intersect: false,
                                            y: [{
                                                formatter: function (y) {
                                                    if (typeof y == "undefined" || typeof y == null) {
                                                        return y = 0 + " Watt";
                                                    }
                                                    else {
                                                        return y + " W"
                                                    }


                                                }
                                            }]
                                        }
                                    };

                                    var chart = new ApexCharts(document.querySelector("#cma03tuketim"), options);
                                    chart.render();
                                </script>


                                @*Çalışma Grafik*@
                                <script>
                                    var options = {
                                        series: [{
                                            name: 'Çalışma Saati',
                                            data: CMA03SecilenListSure
                                        }],
                                        chart: {
                                            height: 230,
                                            type: 'area'
                                        },
                                        colors: ['#00E396'],
                                        dataLabels: {
                                            enabled: false
                                        },
                                        stroke: {
                                            curve: 'smooth'
                                        },
                                        xaxis: {
                                            type: 'string',
                                            categories: SecilenWattTarihArray,
                                            labels: {
                                                formatter: function (value) {
                                                    if (value !== undefined)
                                                        splittedCategories = value.split(" ")
                                                    HhMmSs = splittedCategories[0]
                                                    return HhMmSs;
                                                }
                                            },
                                        },
                                        yaxis: [
                                            {
                                                opposite: false,
                                                title: {
                                                    text: "Saat"
                                                },
                                                labels: {
                                                    formatter: function (val, index) {
                                                        let total_seconds = parseInt(Math.floor(val / 1000));
                                                        let total_minutes = parseInt(Math.floor(total_seconds / 60));
                                                        let total_hours = parseInt(Math.floor(total_minutes / 60));
                                                        let hours = parseInt(total_hours % 24);

                                                        if (val >= 86400000) {
                                                            return hours;
                                                        }
                                                        else {
                                                            return hours;
                                                        }
                                                    }
                                                }
                                            },
                                        ],
                                        tooltip: {
                                            shared: true,
                                            intersect: false,
                                            y: [{
                                                formatter: function (value) {
                                                    let total_seconds = parseInt(Math.floor(value / 1000));
                                                    let total_minutes = parseInt(Math.floor(total_seconds / 60));
                                                    let total_hours = parseInt(Math.floor(total_minutes / 60));
                                                    let days = parseInt(Math.floor(total_hours / 24));

                                                    let seconds = parseInt(total_seconds % 60);
                                                    let minutes = parseInt(total_minutes % 60);
                                                    let hours = parseInt(total_hours % 24);

                                                    if (value >= 86400000) {
                                                        return days + " Gün " + hours + " saat " + minutes + " dakika " + seconds + " saniye"
                                                    }
                                                    else {
                                                        return hours + " saat " + minutes + " dakika " + seconds + " saniye "
                                                    }
                                                }

                                            }]
                                        }
                                    };

                                    var chart = new ApexCharts(document.querySelector("#cma03calisma"), options);
                                    chart.render();
                                </script>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        //CMA04

        <div class="card">
            <h3 style="font-size:23px;padding-left:13px" class="card-title">CMA-04 Raporlar</h3>
            <div class="col-lg-12">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="card">
                            <div class="col-lg-12">
                                <div class="row">
                                    <div class="col-xl-3 mb-4">
                                        <div class="card">
                                            <div class="chart-wrapper mb-4">
                                                <div class="px-4 pt-4 d-flex justify-content-between" style="margin-top:22px">
                                                    <div>
                                                        <h4 style="font-size:21px;color: black;font-weight:bold"><span><img src="~/Content/icons/lighting.png" /></span>Elektrik Tüketimi</h4>
                                                        <p style="font-size: 15px; color: dimgray ">Önceki @ViewBag.farkgun Güne Göre</p>
                                                    </div>
                                                    <div>
                                                        <span><i class="fa fa-caret-up text-success"></i></span>
                                                        <h4 class="d-inline-block" style="color: #008FFB">@CMA04SecilenKW kW</h4>
                                                        @if (CMA04SecilenW <= CMA04gecenXtuketimSum)
                                                        {
                                                            if (CMA04gecenXtuketimVerimPer == 0)
                                                            {
                                                                <p class="" style="color:#FABE2C"><span><img src="~/Content/icons/minus-or.png" /></span> %@CMA04gecenXtuketimVerimPer</p>
                                                            }
                                                            else
                                                            {
                                                                <p class=" text-danger"><span><img src="~/Content/icons/downward-arrow.png" /></span> %@CMA04gecenXtuketimVerimPer</p>
                                                            }

                                                        }
                                                        @if (CMA04SecilenW > CMA04gecenXtuketimSum)
                                                        {
                                                            if (CMA04gecenXtuketimVerimPer == 0)
                                                            {
                                                                <p class="" style="color:#FABE2C"><span><img src="~/Content/icons/minus-or.png" /></span> %@CMA04gecenXtuketimVerimPer</p>
                                                            }
                                                            else
                                                            {
                                                                <p class=" text-success"><span><img src="~/Content/icons/arrow-up.png" /></span>%@CMA04gecenXtuketimVerimPer</p>
                                                            }

                                                        }
                                                    </div>
                                                </div>
                                                <div>
                                                    <div id="CMA04Elektrik"></div>
                                                </div>
                                            </div>
                                            <div class="card-body border-top pt-4" style="margin-top:25px">
                                                <div class="row">
                                                    <div class="col-sm-6" style="margin-top:25px">
                                                        <div>
                                                            <h5 style="color:black;font-size:20px;font-weight:bold">Çalışma Süresi</h5>
                                                            <h4 style="color: #008FFB">@CMA04SecilenTotalA</h4>
                                                        </div>
                                                        <ul style="margin-top:25px">
                                                            <li style="font-size:15px;color:black"><span style="color: #00E396;font-weight:bold;font-size:17px">@ViewBag.farkgun </span>Günde <span style="color: #00E396;font-weight:bold;font-size:17px">@CMA04SecilenTotalA</span> Çalışma Süresi</li>
                                                            @if (CMA04SecilenTotalS <= CMA04gecenXsaatSum)
                                                            {
                                                                if (CMA04gecenXsaatVerimPer == 0)
                                                                {
                                                                    <li style="font-size:15px;padding-top:10px;color:black"> Önceki <span style="color:#008FFB;font-weight:bold">@ViewBag.farkgun</span> Güne Göre <span style="color: #FABE2C; font-weight: bold; font-size: 17px">%@CMA04gecenXsaatVerimPer </span>Verimli</li>
                                                                }
                                                                else
                                                                {
                                                                    <li style="font-size:15px;padding-top:10px;color:black"> Önceki <span style="color:#008FFB;font-weight:bold">@ViewBag.farkgun</span> Güne Göre <span style="color: red;font-weight:bold;font-size:17px">%@CMA04gecenXsaatVerimPer </span>Verimli</li>
                                                                }

                                                            }
                                                            @if (CMA04SecilenTotalS > CMA04gecenXsaatSum)
                                                            {
                                                                if (CMA04gecenXsaatVerimPer == 0)
                                                                {
                                                                    <li style="font-size:15px;padding-top:10px;color:black"> Önceki <span style="color:#008FFB;font-weight:bold">@ViewBag.farkgun</span> Güne Göre <span style="color: #FABE2C; font-weight: bold; font-size: 17px">%@CMA04gecenXsaatVerimPer </span>Verimli</li>
                                                                }
                                                                else
                                                                {
                                                                    <li style="font-size:15px;padding-top:10px;color:black"> Önceki <span style="color:#008FFB;font-weight:bold">@ViewBag.farkgun</span> Güne Göre <span style="color: green;font-weight:bold;font-size:17px">+%@CMA04gecenXsaatVerimPer </span>Verimli</li>
                                                                }

                                                            }

                                                        </ul>
                                                    </div>
                                                    <div class="col-sm-6">
                                                        <div style="margin-top:30px" id="CMA04SecilenVerimlilik"></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xl-9">
                                        <div class="row">
                                            <div class="col-xl-12">
                                                <div class="card" style="margin-right:15px">
                                                    <h4 class="card-title" style="padding-left:20px;color:black">Tüketim-Watt Grafiği</h4>
                                                    <div id="cma04tuketim"></div>
                                                </div>
                                            </div>

                                        </div>
                                        <div class="row">
                                            <div class="col-xl-12">
                                                <div class="card" style="margin-right:15px">
                                                    <h4 class="card-title" style="padding-left:20px;color:black">Çalışma-Zaman Grafiği</h4>
                                                    <div id="cma04calisma"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                @*Verimlilik*@
                                <script>
                            var options = {
                                series: [@CMA04SecilenVerimlilik],
                            chart: {
                            height: 217,
                            type: 'radialBar',
                            toolbar: {
                            show: true
                            }
                        },
                            plotOptions: {
                            radialBar: {
                            startAngle: -135,
                            endAngle: 225,
                            hollow: {
                                margin: 0,
                                size: '70%',
                                background: '#fff',
                                image: undefined,
                                imageOffsetX: 0,
                                imageOffsetY: 0,
                                position: 'front',
                                dropShadow: {
                                    enabled: true,
                                    top: 3,
                                    left: 0,
                                    blur: 4,
                                    opacity: 0.24
                                }
                            },
                            track: {
                                background: '#fff',
                                strokeWidth: '67%',
                                margin: 0, // margin is in pixels
                                dropShadow: {
                                    enabled: true,
                                    top: -3,
                                    left: 0,
                                    blur: 4,
                                    opacity: 0.35
                                }
                            },

                            dataLabels: {
                                show: true,
                                name: {
                                    offsetY: -10,
                                    show: true,
                                    color: 'black',
                                    fontSize: '17px'
                                },
                                value: {
                                    formatter: function (val) {
                                        return '%' + parseInt(val);
                                    },
                                    color: '#111',
                                    fontSize: '21px',
                                    show: true,
                                }
                            }
                        }
                    },
                            fill: {
                            type: 'gradient',
                            gradient: {
                            shade: 'dark',
                            type: 'horizontal',
                            shadeIntensity: 0.5,
                            gradientToColors: ['#ABE5A1'],
                            inverseColors: true,
                            opacityFrom: 1,
                            opacityTo: 1,
                            stops: [0, 100]
                            }
                        },
                            stroke: {
                            lineCap: 'round'
                        },
                            labels: ['Verimlilik'],
                        };

                        var chart = new ApexCharts(document.querySelector("#CMA04SecilenVerimlilik"), options);
                        chart.render();
                                </script>


                                @*Sparkline Watt*@
                                <script>
                                    var options1 = {
                                        series: [{
                                            name: "CMA-04 Watt Tüketim",
                                            data: last6ArrayWattCMA04,
                                        }],
                                        chart: {
                                            height: 150,
                                            type: 'area',
                                            zoom: {
                                                enabled: false
                                            },
                                            sparkline: {
                                                enabled: true
                                            },
                                        },
                                        dataLabels: {
                                            enabled: false
                                        },
                                        stroke: {
                                            curve: 'straight'
                                        },

                                        yaxis: {
                                            min: -5,
                                        },
                                        title: {
                                            text: 'Son 6 Ay',
                                            offsetX: 0,
                                            style: {
                                                fontSize: '16px',
                                                color: '#00E396',

                                            }
                                        },
                                        xaxis: {
                                            categories: last6ArrayT,
                                        }
                                    };

                                    var chart2 = new ApexCharts(document.querySelector("#CMA04Elektrik"), options1);
                                    chart2.render();

                                </script>


                                @*Watt Grafik*@
                                <script>
                                    var options = {
                                        series: [
                                            {
                                                name: 'Watt',
                                                type: 'bar',
                                                data: CMA04SecilenListWatt,
                                            }
                                        ],
                                        chart: {
                                            height: 230,
                                            type: 'line',
                                            stacked: false,
                                        },

                                        stroke: {
                                            width: [0, 2, 5],
                                            curve: 'smooth'
                                        },
                                        plotOptions: {
                                            bar: {
                                                columnWidth: '50%'
                                            }
                                        },

                                        fill: {
                                            opacity: [0.85, 0.25, 1],
                                            gradient: {
                                                inverseColors: false,
                                                shade: 'light',
                                                type: "vertical",
                                                opacityFrom: 0.85,
                                                opacityTo: 0.55,
                                                stops: [0, 100, 100, 100]
                                            }
                                        },
                                        title: {

                                        },
                                        xaxis: {
                                            type: 'string',
                                            categories: SecilenWattTarihArray,
                                            labels: {
                                                formatter: function (value) {
                                                    if (value !== undefined)
                                                        splittedCategories = value.split(" ")
                                                    HhMmSs = splittedCategories[0]
                                                    return HhMmSs;
                                                }
                                            },
                                        },

                                        markers: {
                                            size: 0
                                        },

                                        yaxis: {
                                            title: {
                                                text: 'W (Watt)'
                                            }
                                        },
                                        fill: {
                                            opacity: 1
                                        },
                                        tooltip: {
                                            shared: true,
                                            intersect: false,
                                            y: [{
                                                formatter: function (y) {
                                                    if (typeof y == "undefined" || typeof y == null) {
                                                        return y = 0 + " Watt";
                                                    }
                                                    else {
                                                        return y + " W"
                                                    }


                                                }
                                            }]
                                        }
                                    };

                                    var chart = new ApexCharts(document.querySelector("#cma04tuketim"), options);
                                    chart.render();
                                </script>


                                @*Çalışma Grafik*@
                                <script>
                                    var options = {
                                        series: [{
                                            name: 'Çalışma Saati',
                                            data: CMA04SecilenListSure
                                        }],
                                        chart: {
                                            height: 230,
                                            type: 'area'
                                        },
                                        colors: ['#00E396'],
                                        dataLabels: {
                                            enabled: false
                                        },
                                        stroke: {
                                            curve: 'smooth'
                                        },
                                        xaxis: {
                                            type: 'string',
                                            categories: SecilenWattTarihArray,
                                            labels: {
                                                formatter: function (value) {
                                                    if (value !== undefined)
                                                        splittedCategories = value.split(" ")
                                                    HhMmSs = splittedCategories[0]
                                                    return HhMmSs;
                                                }
                                            },
                                        },
                                        yaxis: [
                                            {
                                                opposite: false,
                                                title: {
                                                    text: "Saat"
                                                },
                                                labels: {
                                                    formatter: function (val, index) {
                                                        let total_seconds = parseInt(Math.floor(val / 1000));
                                                        let total_minutes = parseInt(Math.floor(total_seconds / 60));
                                                        let total_hours = parseInt(Math.floor(total_minutes / 60));
                                                        let hours = parseInt(total_hours % 24);

                                                        if (val >= 86400000) {
                                                            return hours;
                                                        }
                                                        else {
                                                            return hours;
                                                        }
                                                    }
                                                }
                                            },
                                        ],
                                        tooltip: {
                                            shared: true,
                                            intersect: false,
                                            y: [{
                                                formatter: function (value) {
                                                    let total_seconds = parseInt(Math.floor(value / 1000));
                                                    let total_minutes = parseInt(Math.floor(total_seconds / 60));
                                                    let total_hours = parseInt(Math.floor(total_minutes / 60));
                                                    let days = parseInt(Math.floor(total_hours / 24));

                                                    let seconds = parseInt(total_seconds % 60);
                                                    let minutes = parseInt(total_minutes % 60);
                                                    let hours = parseInt(total_hours % 24);

                                                    if (value >= 86400000) {
                                                        return days + " Gün " + hours + " saat " + minutes + " dakika " + seconds + " saniye"
                                                    }
                                                    else {
                                                        return hours + " saat " + minutes + " dakika " + seconds + " saniye "
                                                    }
                                                }

                                            }]
                                        }
                                    };

                                    var chart = new ApexCharts(document.querySelector("#cma04calisma"), options);
                                    chart.render();
                                </script>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        //CMA05

        <div class="card">
            <h3 style="font-size:23px;padding-left:13px" class="card-title">CMA-05 Raporlar</h3>
            <div class="col-lg-12">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="card">
                            <div class="col-lg-12">
                                <div class="row">
                                    <div class="col-xl-3 mb-4">
                                        <div class="card">
                                            <div class="chart-wrapper mb-4">
                                                <div class="px-4 pt-4 d-flex justify-content-between" style="margin-top:22px">
                                                    <div>
                                                        <h4 style="font-size:21px;color: black;font-weight:bold"><span><img src="~/Content/icons/lighting.png" /></span>Elektrik Tüketimi</h4>
                                                        <p style="font-size: 15px; color: dimgray ">Önceki @ViewBag.farkgun Güne Göre</p>
                                                    </div>
                                                    <div>
                                                        <span><i class="fa fa-caret-up text-success"></i></span>
                                                        <h4 class="d-inline-block" style="color: #008FFB">@CMA05SecilenKW kW</h4>
                                                        @if (CMA05SecilenW <= CMA05gecenXtuketimSum)
                                                        {
                                                            if (CMA05gecenXtuketimVerimPer == 0)
                                                            {
                                                                <p class="" style="color:#FABE2C"><span><img src="~/Content/icons/minus-or.png" /></span> %@CMA05gecenXtuketimVerimPer</p>
                                                            }
                                                            else
                                                            {
                                                                <p class=" text-danger"><span><img src="~/Content/icons/downward-arrow.png" /></span> %@CMA05gecenXtuketimVerimPer</p>
                                                            }

                                                        }
                                                        @if (CMA05SecilenW > CMA05gecenXtuketimSum)
                                                        {
                                                            if (CMA05gecenXtuketimVerimPer == 0)
                                                            {
                                                                <p class="" style="color:#FABE2C"><span><img src="~/Content/icons/minus-or.png" /></span> %@CMA05gecenXtuketimVerimPer</p>
                                                            }
                                                            else
                                                            {
                                                                <p class=" text-success"><span><img src="~/Content/icons/arrow-up.png" /></span>%@CMA05gecenXtuketimVerimPer</p>
                                                            }

                                                        }
                                                    </div>
                                                </div>
                                                <div>
                                                    <div id="CMA05Elektrik"></div>
                                                </div>
                                            </div>
                                            <div class="card-body border-top pt-4" style="margin-top:25px">
                                                <div class="row">
                                                    <div class="col-sm-6" style="margin-top:25px">
                                                        <div>
                                                            <h5 style="color:black;font-size:20px;font-weight:bold">Çalışma Süresi</h5>
                                                            <h4 style="color: #008FFB">@CMA05SecilenTotalA</h4>
                                                        </div>
                                                        <ul style="margin-top:25px">
                                                            <li style="font-size:15px;color:black"><span style="color: #00E396;font-weight:bold;font-size:17px">@ViewBag.farkgun </span>Günde <span style="color: #00E396;font-weight:bold;font-size:17px">@CMA05SecilenTotalA</span> Çalışma Süresi</li>
                                                            @if (CMA05SecilenTotalS <= CMA05gecenXsaatSum)
                                                            {
                                                                if (CMA05gecenXsaatVerimPer == 0)
                                                                {
                                                                    <li style="font-size:15px;padding-top:10px;color:black"> Önceki <span style="color:#008FFB;font-weight:bold">@ViewBag.farkgun</span> Güne Göre <span style="color: #FABE2C; font-weight: bold; font-size: 17px">%@CMA05gecenXsaatVerimPer </span>Verimli</li>
                                                                }
                                                                else
                                                                {
                                                                    <li style="font-size:15px;padding-top:10px;color:black"> Önceki <span style="color:#008FFB;font-weight:bold">@ViewBag.farkgun</span> Güne Göre <span style="color: red;font-weight:bold;font-size:17px">%@CMA05gecenXsaatVerimPer </span>Verimli</li>
                                                                }

                                                            }
                                                            @if (CMA05SecilenTotalS > CMA05gecenXsaatSum)
                                                            {
                                                                if (CMA05gecenXsaatVerimPer == 0)
                                                                {
                                                                    <li style="font-size:15px;padding-top:10px;color:black"> Önceki <span style="color:#008FFB;font-weight:bold">@ViewBag.farkgun</span> Güne Göre <span style="color: #FABE2C; font-weight: bold; font-size: 17px">%@CMA05gecenXsaatVerimPer </span>Verimli</li>
                                                                }
                                                                else
                                                                {
                                                                    <li style="font-size:15px;padding-top:10px;color:black">Önceki <span style="color:#008FFB;font-weight:bold">@ViewBag.farkgun</span> Güne Göre <span style="color: green;font-weight:bold;font-size:17px">+%@CMA05gecenXsaatVerimPer </span>Verimli</li>
                                                                }

                                                            }

                                                        </ul>
                                                    </div>
                                                    <div class="col-sm-6">
                                                        <div style="margin-top:30px" id="CMA05SecilenVerimlilik"></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xl-9">
                                        <div class="row">
                                            <div class="col-xl-12">
                                                <div class="card" style="margin-right:15px">
                                                    <h4 class="card-title" style="padding-left:20px;color:black">Tüketim-Watt Grafiği</h4>
                                                    <div id="cma05tuketim"></div>
                                                </div>
                                            </div>

                                        </div>
                                        <div class="row">
                                            <div class="col-xl-12">
                                                <div class="card" style="margin-right:15px">
                                                    <h4 class="card-title" style="padding-left:20px;color:black">Çalışma-Zaman Grafiği</h4>
                                                    <div id="cma05calisma"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                @*Verimlilik*@
                                <script>
                            var options = {
                                series: [@CMA05SecilenVerimlilik],
                            chart: {
                            height: 217,
                            type: 'radialBar',
                            toolbar: {
                            show: true
                            }
                        },
                            plotOptions: {
                            radialBar: {
                            startAngle: -135,
                            endAngle: 225,
                            hollow: {
                                margin: 0,
                                size: '70%',
                                background: '#fff',
                                image: undefined,
                                imageOffsetX: 0,
                                imageOffsetY: 0,
                                position: 'front',
                                dropShadow: {
                                    enabled: true,
                                    top: 3,
                                    left: 0,
                                    blur: 4,
                                    opacity: 0.24
                                }
                            },
                            track: {
                                background: '#fff',
                                strokeWidth: '67%',
                                margin: 0, // margin is in pixels
                                dropShadow: {
                                    enabled: true,
                                    top: -3,
                                    left: 0,
                                    blur: 4,
                                    opacity: 0.35
                                }
                            },

                            dataLabels: {
                                show: true,
                                name: {
                                    offsetY: -10,
                                    show: true,
                                    color: 'black',
                                    fontSize: '17px'
                                },
                                value: {
                                    formatter: function (val) {
                                        return '%' + parseInt(val);
                                    },
                                    color: '#111',
                                    fontSize: '21px',
                                    show: true,
                                }
                            }
                        }
                    },
                            fill: {
                            type: 'gradient',
                            gradient: {
                            shade: 'dark',
                            type: 'horizontal',
                            shadeIntensity: 0.5,
                            gradientToColors: ['#ABE5A1'],
                            inverseColors: true,
                            opacityFrom: 1,
                            opacityTo: 1,
                            stops: [0, 100]
                            }
                        },
                            stroke: {
                            lineCap: 'round'
                        },
                            labels: ['Verimlilik'],
                        };

                        var chart = new ApexCharts(document.querySelector("#CMA05SecilenVerimlilik"), options);
                        chart.render();
                                </script>


                                @*Sparkline Watt*@
                                <script>
                                    var options1 = {
                                        series: [{
                                            name: "CMA-05 Watt Tüketim",
                                            data: last6ArrayWattCMA05,
                                        }],
                                        chart: {
                                            height: 150,
                                            type: 'area',
                                            zoom: {
                                                enabled: false
                                            },
                                            sparkline: {
                                                enabled: true
                                            },
                                        },
                                        dataLabels: {
                                            enabled: false
                                        },
                                        stroke: {
                                            curve: 'straight'
                                        },

                                        yaxis: {
                                            min: -5,
                                        },
                                        title: {
                                            text: 'Son 6 Ay',
                                            offsetX: 0,
                                            style: {
                                                fontSize: '16px',
                                                color: '#00E396',

                                            }
                                        },
                                        xaxis: {
                                            categories: last6ArrayT,
                                        }
                                    };

                                    var chart2 = new ApexCharts(document.querySelector("#CMA05Elektrik"), options1);
                                    chart2.render();

                                </script>


                                @*Watt Grafik*@
                                <script>
                                    var options = {
                                        series: [
                                            {
                                                name: 'Watt',
                                                type: 'bar',
                                                data: CMA05SecilenListWatt,
                                            }
                                        ],
                                        chart: {
                                            height: 230,
                                            type: 'line',
                                            stacked: false,
                                        },

                                        stroke: {
                                            width: [0, 2, 5],
                                            curve: 'smooth'
                                        },
                                        plotOptions: {
                                            bar: {
                                                columnWidth: '50%'
                                            }
                                        },

                                        fill: {
                                            opacity: [0.85, 0.25, 1],
                                            gradient: {
                                                inverseColors: false,
                                                shade: 'light',
                                                type: "vertical",
                                                opacityFrom: 0.85,
                                                opacityTo: 0.55,
                                                stops: [0, 100, 100, 100]
                                            }
                                        },
                                        title: {

                                        },
                                        xaxis: {
                                            type: 'string',
                                            categories: SecilenWattTarihArray,
                                            labels: {
                                                formatter: function (value) {
                                                    if (value !== undefined)
                                                        splittedCategories = value.split(" ")
                                                    HhMmSs = splittedCategories[0]
                                                    return HhMmSs;
                                                }
                                            },
                                        },

                                        markers: {
                                            size: 0
                                        },

                                        yaxis: {
                                            title: {
                                                text: 'W (Watt)'
                                            }
                                        },
                                        fill: {
                                            opacity: 1
                                        },
                                        tooltip: {
                                            shared: true,
                                            intersect: false,
                                            y: [{
                                                formatter: function (y) {
                                                    if (typeof y == "undefined" || typeof y == null) {
                                                        return y = 0 + " Watt";
                                                    }
                                                    else {
                                                        return y + " W"
                                                    }


                                                }
                                            }]
                                        }
                                    };

                                    var chart = new ApexCharts(document.querySelector("#cma05tuketim"), options);
                                    chart.render();
                                </script>


                                @*Çalışma Grafik*@
                                <script>
                                    var options = {
                                        series: [{
                                            name: 'Çalışma Saati',
                                            data: CMA05SecilenListSure
                                        }],
                                        chart: {
                                            height: 230,
                                            type: 'area'
                                        },
                                        colors: ['#00E396'],
                                        dataLabels: {
                                            enabled: false
                                        },
                                        stroke: {
                                            curve: 'smooth'
                                        },
                                        xaxis: {
                                            type: 'string',
                                            categories: SecilenWattTarihArray,
                                            labels: {
                                                formatter: function (value) {
                                                    if (value !== undefined)
                                                        splittedCategories = value.split(" ")
                                                    HhMmSs = splittedCategories[0]
                                                    return HhMmSs;
                                                }
                                            },
                                        },
                                        yaxis: [
                                            {
                                                opposite: false,
                                                title: {
                                                    text: "Saat"
                                                },
                                                labels: {
                                                    formatter: function (val, index) {
                                                        let total_seconds = parseInt(Math.floor(val / 1000));
                                                        let total_minutes = parseInt(Math.floor(total_seconds / 60));
                                                        let total_hours = parseInt(Math.floor(total_minutes / 60));
                                                        let hours = parseInt(total_hours % 24);

                                                        if (val >= 86400000) {
                                                            return hours;
                                                        }
                                                        else {
                                                            return hours;
                                                        }
                                                    }
                                                }
                                            },
                                        ],
                                        tooltip: {
                                            shared: true,
                                            intersect: false,
                                            y: [{
                                                formatter: function (value) {
                                                    let total_seconds = parseInt(Math.floor(value / 1000));
                                                    let total_minutes = parseInt(Math.floor(total_seconds / 60));
                                                    let total_hours = parseInt(Math.floor(total_minutes / 60));
                                                    let days = parseInt(Math.floor(total_hours / 24));

                                                    let seconds = parseInt(total_seconds % 60);
                                                    let minutes = parseInt(total_minutes % 60);
                                                    let hours = parseInt(total_hours % 24);

                                                    if (value >= 86400000) {
                                                        return days + " Gün " + hours + " saat " + minutes + " dakika " + seconds + " saniye"
                                                    }
                                                    else {
                                                        return hours + " saat " + minutes + " dakika " + seconds + " saniye "
                                                    }
                                                }

                                            }]
                                        }
                                    };

                                    var chart = new ApexCharts(document.querySelector("#cma05calisma"), options);
                                    chart.render();
                                </script>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        //CMA06

        <div class="card">
            <h3 style="font-size:23px;padding-left:13px" class="card-title">CMA-06 Raporlar</h3>
            <div class="col-lg-12">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="card">
                            <div class="col-lg-12">
                                <div class="row">
                                    <div class="col-xl-3 mb-4">
                                        <div class="card">
                                            <div class="chart-wrapper mb-4">
                                                <div class="px-4 pt-4 d-flex justify-content-between" style="margin-top:15px">
                                                    <div>
                                                        <h4 style="font-size:21px;color: black;font-weight:bold"><span><img src="~/Content/icons/lighting.png" /></span>Elektrik Tüketimi</h4>
                                                        <p style="font-size: 15px; color: dimgray ">Önceki @ViewBag.farkgun Güne Göre</p>
                                                    </div>
                                                    <div>
                                                        <span><i class="fa fa-caret-up text-success"></i></span>
                                                        <h4 class="d-inline-block" style="color: #008FFB">@CMA06SecilenKW kW</h4>
                                                        @if (CMA06SecilenW <= CMA06gecenXtuketimSum)
                                                        {
                                                            if (CMA06gecenXtuketimVerimPer == 0)
                                                            {
                                                                <p class="" style="color:#FABE2C"><span><img src="~/Content/icons/minus-or.png" /></span> %@CMA06gecenXtuketimVerimPer</p>
                                                            }
                                                            else
                                                            {
                                                                <p class=" text-danger"><span><img src="~/Content/icons/downward-arrow.png" /></span> %@CMA06gecenXtuketimVerimPer</p>
                                                            }

                                                        }
                                                        @if (CMA06SecilenW > CMA06gecenXtuketimSum)
                                                        {
                                                            if (CMA06gecenXtuketimVerimPer == 0)
                                                            {
                                                                <p class="" style="color:#FABE2C"><span><img src="~/Content/icons/minus-or.png" /></span> %@CMA06gecenXtuketimVerimPer</p>
                                                            }
                                                            else
                                                            {
                                                                <p class=" text-success"><span><img src="~/Content/icons/arrow-up.png" /></span>%@CMA06gecenXtuketimVerimPer</p>
                                                            }

                                                        }
                                                    </div>
                                                </div>
                                                <div>
                                                    <div id="CMA06Elektrik"></div>
                                                </div>
                                            </div>
                                            <div class="card-body border-top pt-4" style="margin-top:17px">
                                                <div class="row">
                                                    <div class="col-sm-6" style="margin-top:17px">
                                                        <div>
                                                            <h5 style="color:black;font-size:20px;font-weight:bold">Çalışma Süresi</h5>
                                                            <h4 style="color: #008FFB">@CMA06SecilenTotalA</h4>
                                                        </div>
                                                        <ul style="margin-top:25px">
                                                            <li style="font-size:15px;color:black"><span style="color: #00E396;font-weight:bold;font-size:17px">@ViewBag.farkgun </span>Günde <span style="color: #00E396;font-weight:bold;font-size:17px">@CMA06SecilenTotalA</span> Çalışma Süresi</li>
                                                            @if (CMA06SecilenTotalS <= CMA06gecenXsaatSum)
                                                            {
                                                                if (CMA06gecenXsaatVerimPer == 0)
                                                                {
                                                                    <li style="font-size:15px;padding-top:10px;color:black"> Önceki <span style="color:#008FFB;font-weight:bold">@ViewBag.farkgun</span> Güne Göre <span style="color: #FABE2C; font-weight: bold; font-size: 17px">%@CMA06gecenXsaatVerimPer </span>Verimli</li>
                                                                }
                                                                else
                                                                {
                                                                    <li style="font-size:15px;padding-top:10px;color:black"> Önceki <span style="color:#008FFB;font-weight:bold">@ViewBag.farkgun</span> Güne Göre <span style="color: red;font-weight:bold;font-size:17px">%@CMA06gecenXsaatVerimPer </span>Verimli</li>
                                                                }

                                                            }
                                                            @if (CMA06SecilenTotalS > CMA06gecenXsaatSum)
                                                            {
                                                                if (CMA06gecenXsaatVerimPer == 0)
                                                                {
                                                                    <li style="font-size:15px;padding-top:10px;color:black"> Önceki <span style="color:#008FFB;font-weight:bold">@ViewBag.farkgun</span> Güne Göre <span style="color: #FABE2C; font-weight: bold; font-size: 17px">%@CMA06gecenXsaatVerimPer </span>Verimli</li>
                                                                }
                                                                else
                                                                {
                                                                    <li style="font-size:15px;padding-top:10px;color:black">Önceki <span style="color:#008FFB;font-weight:bold">@ViewBag.farkgun</span> Güne Göre <span style="color: green;font-weight:bold;font-size:17px">+%@CMA06gecenXsaatVerimPer </span>Verimli</li>
                                                                }

                                                            }

                                                        </ul>
                                                    </div>
                                                    <div class="col-sm-6">
                                                        <div style="margin-top:30px" id="CMA06SecilenVerimlilik"></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xl-9">
                                        <div class="row">
                                            <div class="col-xl-12">
                                                <div class="card" style="margin-right:15px">
                                                    <h4 class="card-title" style="padding-left:20px;color:black">Tüketim-Watt Grafiği</h4>
                                                    <div id="cma06tuketim"></div>
                                                </div>
                                            </div>

                                        </div>
                                        <div class="row">
                                            <div class="col-xl-12">
                                                <div class="card" style="margin-right:15px">
                                                    <h4 class="card-title" style="padding-left:20px;color:black">Çalışma-Zaman Grafiği</h4>
                                                    <div id="cma06calisma"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                @*Verimlilik*@
                                <script>
                            var options = {
                                series: [@CMA06SecilenVerimlilik],
                            chart: {
                            height: 217,
                            type: 'radialBar',
                            toolbar: {
                            show: true
                            }
                        },
                            plotOptions: {
                            radialBar: {
                            startAngle: -135,
                            endAngle: 225,
                            hollow: {
                                margin: 0,
                                size: '70%',
                                background: '#fff',
                                image: undefined,
                                imageOffsetX: 0,
                                imageOffsetY: 0,
                                position: 'front',
                                dropShadow: {
                                    enabled: true,
                                    top: 3,
                                    left: 0,
                                    blur: 4,
                                    opacity: 0.24
                                }
                            },
                            track: {
                                background: '#fff',
                                strokeWidth: '67%',
                                margin: 0, // margin is in pixels
                                dropShadow: {
                                    enabled: true,
                                    top: -3,
                                    left: 0,
                                    blur: 4,
                                    opacity: 0.35
                                }
                            },

                            dataLabels: {
                                show: true,
                                name: {
                                    offsetY: -10,
                                    show: true,
                                    color: 'black',
                                    fontSize: '17px'
                                },
                                value: {
                                    formatter: function (val) {
                                        return '%' + parseInt(val);
                                    },
                                    color: '#111',
                                    fontSize: '21px',
                                    show: true,
                                }
                            }
                        }
                    },
                            fill: {
                            type: 'gradient',
                            gradient: {
                            shade: 'dark',
                            type: 'horizontal',
                            shadeIntensity: 0.5,
                            gradientToColors: ['#ABE5A1'],
                            inverseColors: true,
                            opacityFrom: 1,
                            opacityTo: 1,
                            stops: [0, 100]
                            }
                        },
                            stroke: {
                            lineCap: 'round'
                        },
                            labels: ['Verimlilik'],
                        };

                        var chart = new ApexCharts(document.querySelector("#CMA06SecilenVerimlilik"), options);
                        chart.render();
                                </script>


                                @*Sparkline Watt*@
                                <script>
                                    var options1 = {
                                        series: [{
                                            name: "CMA-06 Watt Tüketim",
                                            data: last6ArrayWattCMA06,
                                        }],
                                        chart: {
                                            height: 150,
                                            type: 'area',
                                            zoom: {
                                                enabled: false
                                            },
                                            sparkline: {
                                                enabled: true
                                            },
                                        },
                                        dataLabels: {
                                            enabled: false
                                        },
                                        stroke: {
                                            curve: 'straight'
                                        },

                                        yaxis: {
                                            min: -5,
                                        },
                                        title: {
                                            text: 'Son 6 Ay',
                                            offsetX: 0,
                                            style: {
                                                fontSize: '16px',
                                                color: '#00E396',

                                            }
                                        },
                                        xaxis: {
                                            categories: last6ArrayT,
                                        }
                                    };

                                    var chart2 = new ApexCharts(document.querySelector("#CMA06Elektrik"), options1);
                                    chart2.render();

                                </script>


                                @*Watt Grafik*@
                                <script>
                                    var options = {
                                        series: [
                                            {
                                                name: 'Watt',
                                                type: 'bar',
                                                data: CMA06SecilenListWatt,
                                            }
                                        ],
                                        chart: {
                                            height: 230,
                                            type: 'line',
                                            stacked: false,
                                        },

                                        stroke: {
                                            width: [0, 2, 5],
                                            curve: 'smooth'
                                        },
                                        plotOptions: {
                                            bar: {
                                                columnWidth: '50%'
                                            }
                                        },

                                        fill: {
                                            opacity: [0.85, 0.25, 1],
                                            gradient: {
                                                inverseColors: false,
                                                shade: 'light',
                                                type: "vertical",
                                                opacityFrom: 0.85,
                                                opacityTo: 0.55,
                                                stops: [0, 100, 100, 100]
                                            }
                                        },
                                        title: {

                                        },
                                        xaxis: {
                                            type: 'string',
                                            categories: SecilenWattTarihArray,
                                            labels: {
                                                formatter: function (value) {
                                                    if (value !== undefined)
                                                        splittedCategories = value.split(" ")
                                                    HhMmSs = splittedCategories[0]
                                                    return HhMmSs;
                                                }
                                            },
                                        },

                                        markers: {
                                            size: 0
                                        },

                                        yaxis: {
                                            title: {
                                                text: 'W (Watt)'
                                            }
                                        },
                                        fill: {
                                            opacity: 1
                                        },
                                        tooltip: {
                                            shared: true,
                                            intersect: false,
                                            y: [{
                                                formatter: function (y) {
                                                    if (typeof y == "undefined" || typeof y == null) {
                                                        return y = 0 + " Watt";
                                                    }
                                                    else {
                                                        return y + " W"
                                                    }


                                                }
                                            }]
                                        }
                                    };

                                    var chart = new ApexCharts(document.querySelector("#cma06tuketim"), options);
                                    chart.render();
                                </script>


                                @*Çalışma Grafik*@
                                <script>
                                    var options = {
                                        series: [{
                                            name: 'Çalışma Saati',
                                            data: CMA06SecilenListSure
                                        }],
                                        chart: {
                                            height: 230,
                                            type: 'area'
                                        },
                                        colors: ['#00E396'],
                                        dataLabels: {
                                            enabled: false
                                        },
                                        stroke: {
                                            curve: 'smooth'
                                        },
                                        xaxis: {
                                            type: 'string',
                                            categories: SecilenWattTarihArray,
                                            labels: {
                                                formatter: function (value) {
                                                    if (value !== undefined)
                                                        splittedCategories = value.split(" ")
                                                    HhMmSs = splittedCategories[0]
                                                    return HhMmSs;
                                                }
                                            },
                                        },
                                        yaxis: [
                                            {
                                                opposite: false,
                                                title: {
                                                    text: "Saat"
                                                },
                                                labels: {
                                                    formatter: function (val, index) {
                                                        let total_seconds = parseInt(Math.floor(val / 1000));
                                                        let total_minutes = parseInt(Math.floor(total_seconds / 60));
                                                        let total_hours = parseInt(Math.floor(total_minutes / 60));
                                                        let hours = parseInt(total_hours % 24);

                                                        if (val >= 86400000) {
                                                            return hours;
                                                        }
                                                        else {
                                                            return hours;
                                                        }
                                                    }
                                                }
                                            },
                                        ],
                                        tooltip: {
                                            shared: true,
                                            intersect: false,
                                            y: [{
                                                formatter: function (value) {
                                                    let total_seconds = parseInt(Math.floor(value / 1000));
                                                    let total_minutes = parseInt(Math.floor(total_seconds / 60));
                                                    let total_hours = parseInt(Math.floor(total_minutes / 60));
                                                    let days = parseInt(Math.floor(total_hours / 24));

                                                    let seconds = parseInt(total_seconds % 60);
                                                    let minutes = parseInt(total_minutes % 60);
                                                    let hours = parseInt(total_hours % 24);

                                                    if (value >= 86400000) {
                                                        return days + " Gün " + hours + " saat " + minutes + " dakika " + seconds + " saniye"
                                                    }
                                                    else {
                                                        return hours + " saat " + minutes + " dakika " + seconds + " saniye "
                                                    }
                                                }

                                            }]
                                        }
                                    };

                                    var chart = new ApexCharts(document.querySelector("#cma06calisma"), options);
                                    chart.render();
                                </script>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        //CMA07

        <div class="card">
            <h3 style="font-size:23px;padding-left:13px" class="card-title">CMA-07 Raporlar</h3>
            <div class="col-lg-12">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="card">
                            <div class="col-lg-12">
                                <div class="row">
                                    <div class="col-xl-3 mb-4">
                                        <div class="card">
                                            <div class="chart-wrapper mb-4">
                                                <div class="px-4 pt-4 d-flex justify-content-between" style="margin-top:22px">
                                                    <div>
                                                        <h4 style="font-size:21px;color: black;font-weight:bold"><span><img src="~/Content/icons/lighting.png" /></span>Elektrik Tüketimi</h4>
                                                        <p style="font-size: 15px; color: dimgray ">Önceki @ViewBag.farkgun Güne Göre</p>
                                                    </div>
                                                    <div>
                                                        <span><i class="fa fa-caret-up text-success"></i></span>
                                                        <h4 class="d-inline-block" style="color: #008FFB">@CMA07SecilenKW kW</h4>
                                                        @if (CMA07SecilenW <= CMA07gecenXtuketimSum)
                                                        {
                                                            if (CMA07gecenXtuketimVerimPer == 0)
                                                            {
                                                                <p class="" style="color:#FABE2C"><span><img src="~/Content/icons/minus-or.png" /></span> %@CMA07gecenXtuketimVerimPer</p>
                                                            }
                                                            else
                                                            {
                                                                <p class=" text-danger"><span><img src="~/Content/icons/downward-arrow.png" /></span> %@CMA07gecenXtuketimVerimPer</p>
                                                            }

                                                        }
                                                        @if (CMA07SecilenW > CMA07gecenXtuketimSum)
                                                        {
                                                            if (CMA07gecenXtuketimVerimPer == 0)
                                                            {
                                                                <p class="" style="color:#FABE2C"><span><img src="~/Content/icons/minus-or.png" /></span> %@CMA07gecenXtuketimVerimPer</p>
                                                            }
                                                            else
                                                            {
                                                                <p class=" text-success"><span><img src="~/Content/icons/arrow-up.png" /></span>%@CMA07gecenXtuketimVerimPer</p>
                                                            }

                                                        }
                                                    </div>
                                                </div>
                                                <div>
                                                    <div id="CMA07Elektrik"></div>
                                                </div>
                                            </div>
                                            <div class="card-body border-top pt-4" style="margin-top:30px">
                                                <div class="row">
                                                    <div class="col-sm-6" style="margin-top:30px">
                                                        <div>
                                                            <h5 style="color:black;font-size:20px;font-weight:bold">Çalışma Süresi</h5>
                                                            <h4 style="color: #008FFB">@CMA07SecilenTotalA</h4>
                                                        </div>
                                                        <ul style="margin-top:25px">
                                                            <li style="font-size:15px;color:black"><span style="color: #00E396;font-weight:bold;font-size:17px">@ViewBag.farkgun </span>Günde <span style="color: #00E396;font-weight:bold;font-size:17px">@CMA07SecilenTotalA</span> Çalışma Süresi</li>
                                                            @if (CMA07SecilenTotalS <= CMA07gecenXsaatSum)
                                                            {
                                                                if (CMA07gecenXsaatVerimPer == 0)
                                                                {
                                                                    <li style="font-size:15px;padding-top:10px;color:black">Önceki <span style="color:#008FFB;font-weight:bold">@ViewBag.farkgun</span> Güne Göre <span style="color: #FABE2C; font-weight: bold; font-size: 17px">%@CMA07gecenXsaatVerimPer </span>Verimli</li>
                                                                }
                                                                else
                                                                {
                                                                    <li style="font-size:15px;padding-top:10px;color:black"> Önceki <span style="color:#008FFB;font-weight:bold">@ViewBag.farkgun</span> Güne Göre <span style="color: red;font-weight:bold;font-size:17px">%@CMA07gecenXsaatVerimPer </span>Verimli</li>
                                                                }

                                                            }
                                                            @if (CMA07SecilenTotalS > CMA07gecenXsaatSum)
                                                            {
                                                                if (CMA07gecenXsaatVerimPer == 0)
                                                                {
                                                                    <li style="font-size:15px;padding-top:10px;color:black"> Önceki <span style="color:#008FFB;font-weight:bold">@ViewBag.farkgun</span> Güne Göre <span style="color: #FABE2C; font-weight: bold; font-size: 17px">%@CMA07gecenXsaatVerimPer </span>Verimli</li>
                                                                }
                                                                else
                                                                {
                                                                    <li style="font-size:15px;padding-top:10px;color:black">Önceki <span style="color:#008FFB;font-weight:bold">@ViewBag.farkgun</span>Güne Göre <span style="color: green;font-weight:bold;font-size:17px">+%@CMA07gecenXsaatVerimPer </span>Verimli</li>
                                                                }

                                                            }

                                                        </ul>
                                                    </div>
                                                    <div class="col-sm-6">
                                                        <div style="margin-top:30px" id="CMA07SecilenVerimlilik"></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xl-9">
                                        <div class="row">
                                            <div class="col-xl-12">
                                                <div class="card" style="margin-right:15px">
                                                    <h4 class="card-title" style="padding-left:20px;color:black">Tüketim-Watt Grafiği</h4>
                                                    <div id="cma07tuketim"></div>
                                                </div>
                                            </div>

                                        </div>
                                        <div class="row">
                                            <div class="col-xl-12">
                                                <div class="card" style="margin-right:15px">
                                                    <h4 class="card-title" style="padding-left:20px;color:black">Çalışma-Zaman Grafiği</h4>
                                                    <div id="cma07calisma"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                @*Verimlilik*@
                                <script>
                            var options = {
                                series: [@CMA07SecilenVerimlilik],
                            chart: {
                            height: 217,
                            type: 'radialBar',
                            toolbar: {
                            show: true
                            }
                        },
                            plotOptions: {
                            radialBar: {
                            startAngle: -135,
                            endAngle: 225,
                            hollow: {
                                margin: 0,
                                size: '70%',
                                background: '#fff',
                                image: undefined,
                                imageOffsetX: 0,
                                imageOffsetY: 0,
                                position: 'front',
                                dropShadow: {
                                    enabled: true,
                                    top: 3,
                                    left: 0,
                                    blur: 4,
                                    opacity: 0.24
                                }
                            },
                            track: {
                                background: '#fff',
                                strokeWidth: '67%',
                                margin: 0, // margin is in pixels
                                dropShadow: {
                                    enabled: true,
                                    top: -3,
                                    left: 0,
                                    blur: 4,
                                    opacity: 0.35
                                }
                            },

                            dataLabels: {
                                show: true,
                                name: {
                                    offsetY: -10,
                                    show: true,
                                    color: 'black',
                                    fontSize: '17px'
                                },
                                value: {
                                    formatter: function (val) {
                                        return '%' + parseInt(val);
                                    },
                                    color: '#111',
                                    fontSize: '21px',
                                    show: true,
                                }
                            }
                        }
                    },
                            fill: {
                            type: 'gradient',
                            gradient: {
                            shade: 'dark',
                            type: 'horizontal',
                            shadeIntensity: 0.5,
                            gradientToColors: ['#ABE5A1'],
                            inverseColors: true,
                            opacityFrom: 1,
                            opacityTo: 1,
                            stops: [0, 100]
                            }
                        },
                            stroke: {
                            lineCap: 'round'
                        },
                            labels: ['Verimlilik'],
                        };

                        var chart = new ApexCharts(document.querySelector("#CMA07SecilenVerimlilik"), options);
                        chart.render();
                                </script>


                                @*Sparkline Watt*@
                                <script>
                                    var options1 = {
                                        series: [{
                                            name: "CMA-07 Watt Tüketim",
                                            data: last6ArrayWattCMA07,
                                        }],
                                        chart: {
                                            height: 150,
                                            type: 'area',
                                            zoom: {
                                                enabled: false
                                            },
                                            sparkline: {
                                                enabled: true
                                            },
                                        },
                                        dataLabels: {
                                            enabled: false
                                        },
                                        stroke: {
                                            curve: 'straight'
                                        },

                                        yaxis: {
                                            min: -5,
                                        },
                                        title: {
                                            text: 'Son 6 Ay',
                                            offsetX: 0,
                                            style: {
                                                fontSize: '16px',
                                                color: '#00E396',

                                            }
                                        },
                                        xaxis: {
                                            categories: last6ArrayT,
                                        }
                                    };

                                    var chart2 = new ApexCharts(document.querySelector("#CMA07Elektrik"), options1);
                                    chart2.render();

                                </script>


                                @*Watt Grafik*@
                                <script>
                                    var options = {
                                        series: [
                                            {
                                                name: 'Watt',
                                                type: 'bar',
                                                data: CMA07SecilenListWatt,
                                            }
                                        ],
                                        chart: {
                                            height: 230,
                                            type: 'line',
                                            stacked: false,
                                        },

                                        stroke: {
                                            width: [0, 2, 5],
                                            curve: 'smooth'
                                        },
                                        plotOptions: {
                                            bar: {
                                                columnWidth: '50%'
                                            }
                                        },

                                        fill: {
                                            opacity: [0.85, 0.25, 1],
                                            gradient: {
                                                inverseColors: false,
                                                shade: 'light',
                                                type: "vertical",
                                                opacityFrom: 0.85,
                                                opacityTo: 0.55,
                                                stops: [0, 100, 100, 100]
                                            }
                                        },
                                        title: {

                                        },
                                        xaxis: {
                                            type: 'string',
                                            categories: SecilenWattTarihArray,
                                            labels: {
                                                formatter: function (value) {
                                                    if (value !== undefined)
                                                        splittedCategories = value.split(" ")
                                                    HhMmSs = splittedCategories[0]
                                                    return HhMmSs;
                                                }
                                            },
                                        },

                                        markers: {
                                            size: 0
                                        },

                                        yaxis: {
                                            title: {
                                                text: 'W (Watt)'
                                            }
                                        },
                                        fill: {
                                            opacity: 1
                                        },
                                        tooltip: {
                                            shared: true,
                                            intersect: false,
                                            y: [{
                                                formatter: function (y) {
                                                    if (typeof y == "undefined" || typeof y == null) {
                                                        return y = 0 + " Watt";
                                                    }
                                                    else {
                                                        return y + " W"
                                                    }


                                                }
                                            }]
                                        }
                                    };

                                    var chart = new ApexCharts(document.querySelector("#cma07tuketim"), options);
                                    chart.render();
                                </script>


                                @*Çalışma Grafik*@
                                <script>
                                    var options = {
                                        series: [{
                                            name: 'Çalışma Saati',
                                            data: CMA07SecilenListSure
                                        }],
                                        chart: {
                                            height: 230,
                                            type: 'area'
                                        },
                                        colors: ['#00E396'],
                                        dataLabels: {
                                            enabled: false
                                        },
                                        stroke: {
                                            curve: 'smooth'
                                        },
                                        xaxis: {
                                            type: 'string',
                                            categories: SecilenWattTarihArray,
                                            labels: {
                                                formatter: function (value) {
                                                    if (value !== undefined)
                                                        splittedCategories = value.split(" ")
                                                    HhMmSs = splittedCategories[0]
                                                    return HhMmSs;
                                                }
                                            },
                                        },
                                        yaxis: [
                                            {
                                                opposite: false,
                                                title: {
                                                    text: "Saat"
                                                },
                                                labels: {
                                                    formatter: function (val, index) {
                                                        let total_seconds = parseInt(Math.floor(val / 1000));
                                                        let total_minutes = parseInt(Math.floor(total_seconds / 60));
                                                        let total_hours = parseInt(Math.floor(total_minutes / 60));
                                                        let hours = parseInt(total_hours % 24);

                                                        if (val >= 86400000) {
                                                            return hours;
                                                        }
                                                        else {
                                                            return hours;
                                                        }
                                                    }
                                                }
                                            },
                                        ],
                                        tooltip: {
                                            shared: true,
                                            intersect: false,
                                            y: [{
                                                formatter: function (value) {
                                                    let total_seconds = parseInt(Math.floor(value / 1000));
                                                    let total_minutes = parseInt(Math.floor(total_seconds / 60));
                                                    let total_hours = parseInt(Math.floor(total_minutes / 60));
                                                    let days = parseInt(Math.floor(total_hours / 24));

                                                    let seconds = parseInt(total_seconds % 60);
                                                    let minutes = parseInt(total_minutes % 60);
                                                    let hours = parseInt(total_hours % 24);

                                                    if (value >= 86400000) {
                                                        return days + " Gün " + hours + " saat " + minutes + " dakika " + seconds + " saniye"
                                                    }
                                                    else {
                                                        return hours + " saat " + minutes + " dakika " + seconds + " saniye "
                                                    }
                                                }

                                            }]
                                        }
                                    };

                                    var chart = new ApexCharts(document.querySelector("#cma07calisma"), options);
                                    chart.render();
                                </script>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>


    }

</div>


<script>
    $(document).ready(function () {
        // datetimepicker'ların değerleri değiştiğinde localStorage'a kaydedin
        $('.datepicker').on('change', function () {
            localStorage.setItem($(this).attr('name'), $(this).val());
        });

        // sayfa yüklendiğinde, datetimepicker'ların değerlerini localStorage'dan yükleyin
        $('.datepicker').each(function () {
            var value = localStorage.getItem($(this).attr('name'));
            if (value) {
                $(this).val(value);
            }
        });
    });
</script>

@*Tarih Null Kontrol*@
<script>
    function validateForm() {
        var bas = document.querySelector('input[name="bas"]').value;
        var bit = document.querySelector('input[name="bit"]').value;

        if (!bas || !bit) {
            alert("Lütfen başlangıç ve bitiş tarihini seçiniz!");
            return false;
        }

        return true;
    }
</script>

<script src="~/quixlab-master/quixlab-master/plugins/chartist-plugin-tooltips/js/chartist-plugin-tooltip.min.js"></script>
<script src="~/quixlab-master/quixlab-master/js/dashboard/dashboard-1.js"></script>
<script src="~/quixlab-master/quixlab-master/plugins/chartist/js/chartist.min.js"></script>